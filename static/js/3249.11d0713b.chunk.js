"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[3249,9540],{9932:function(t,n,e){e.d(n,{Z:function(){return s}});var r=e(74165),a=e(15861),i=e(15671),c=e(43144),o=e(27415),l=e(56856),s=function(){function t(){(0,i.Z)(this,t)}return(0,c.Z)(t,null,[{key:"getCategoriesList",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.Z.get(),t.next=3,o.Z.get("/tenant/".concat(n,"/category-publication"));case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getSearchResultsForPublicationsBasedOnSearchString",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,e){var a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.Z.get(),t.next=3,o.Z.get("/tenant/".concat(a,"/search?filter=").concat(n,"&limit=10&offset=").concat(e,"&validated={true}"));case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()},{key:"searchUsingMainCatefories",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,e,a){var i,c,s,d,u,h;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=l.Z.get(),t.next=3,o.Z.get("/tenant/".concat(s,"/category-publication?filter[titleFR]=").concat(e));case 3:return d=t.sent,u=null===(i=d.data.rows[0])||void 0===i?void 0:i.publications,h={rows:null!==u&&void 0!==u?u:[],count:null!==(c=null===u||void 0===u?void 0:u.length)&&void 0!==c?c:0},t.abrupt("return",h);case 7:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}()},{key:"getSearchResultsForArchiveBasedOnSearchString",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,e,a){var i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.Z.get(),t.next=3,o.Z.get("/tenant/".concat(i,"/publication?filter[descriptionFR]=").concat(n,"&limit=5&offset=").concat(a,"&filter[statut]=archive").concat(e));case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}()},{key:"getArchivePublications",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,e,a){var i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.Z.get(),t.next=3,o.Z.get("/tenant/".concat(i,"/publication/search?filter=").concat(n,"&limit=10&offset=").concat(a,"&advanced[statut]=").concat(e.statut,"&advanced[thematique]=").concat(e.thematique,"&advanced[category]=").concat(e.category));case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}()}]),t}()},6280:function(t,n,e){e.r(n);var r,a=e(30168),i=e(74165),c=e(15861),o=e(29439),l=e(72791),s=e(25930),d=e(8765),u=e(86538),h=e(9932),f=e(2579),p=(e(85862),e(70651)),v=e(39126),g=e(80184);n.default=function(t){var n=t.location,e=localStorage.getItem("language"),r=(0,l.useState)([]),a=(0,o.Z)(r,2),u=a[0],x=a[1],Z=(0,l.useState)(!1),y=(0,o.Z)(Z,2),b=y[0],j=y[1],w=function(){var t=(0,c.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,h.Z.getArchivePublications(n.archiveSearchString,n.archiveFilter,0);case 4:e=t.sent,x(e.rows),j(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("err",t.t0),j(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){w()}),[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{title:(0,s.ag)("common.Archives"),items:[[(0,s.ag)("app.title"),"/"],[(0,s.ag)("common.Archives")]]}),(0,g.jsx)("div",{className:"app__archieve__page_search",children:b?(0,g.jsx)("section",{children:(0,g.jsx)(f.Z,{height:170})}):(0,g.jsx)("div",{className:"archeive",children:(0,g.jsx)("div",{className:"archieve__content",children:(0,g.jsx)("div",{className:"archieve__left",children:(0,g.jsx)(m,{children:(0,g.jsx)("div",{children:u.length>0?(0,g.jsx)("div",{children:u.map((function(t,n){var r,a,i,c;return t.photos&&(r=function(t){var n="https://via.placeholder.com/270x175";return t.forEach((function(t){if(t.downloadUrl&&t.downloadUrl.length>=1){var e=t.downloadUrl.substring(t.downloadUrl.lastIndexOf(".")+1,t.downloadUrl.length);"png, jpg, jpeg, gif".includes(e)&&(n=t.downloadUrl)}})),n}(t.photos)),"fr"===e?(0,g.jsx)(p.Z,{type:t.category?t.category.titleFR:null,title:t.titleFR,entite:"detail",_id:null!==(a=t._id)&&void 0!==a?a:0,date:t.date,content:t.descriptionFR,thumbnail:r},n):"ar"===e?(0,g.jsx)(p.Z,{type:t.category?t.category.titleAR:null,title:t.titleAR,entite:"detail",_id:null!==(i=t._id)&&void 0!==i?i:0,date:t.date,content:t.descriptionAR,thumbnail:r},n):"en"===e?(0,g.jsx)(p.Z,{type:t.category?t.category.titleEN:null,title:t.titleEN,entite:"detail",_id:null!==(c=t._id)&&void 0!==c?c:0,date:t.date,content:t.descriptionEN,thumbnail:r},n):void 0}))}):(0,g.jsxs)("h3",{id:"noDataFound",children:[(0,g.jsx)(v.$gH,{}),"\xa0",(0,s.ag)("common.noData")]})})})})})})})]})};var m=u.ZP.div(r||(r=(0,a.Z)(['\n  width: 100%;\n  margin: 1rem 0;\n\n  #noDataFound {\n    font-family: "Proxima Nova";\n    font-style: normal;\n    font-weight: 100;\n    font-size: 1.5rem;\n    text-align: center;\n    color: #c7c6c6;\n\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n  }\n'])))},70651:function(t,n,e){e.d(n,{Z:function(){return h}});var r,a=e(30168),i=(e(72791),e(91523)),c=e(86538),o=e(53540),l=e(72426),s=e.n(l),d=e(27314),u=e(80184);function h(t){var n=t._id,e=t.date,r=t.content,a=t.thumbnail,c=t.title,l=t.entite,h=t.type,p=s()(e).format("l");return(0,u.jsxs)(f,{children:[(0,u.jsx)(i.rU,{to:"/"+l+"/"+n,children:(0,u.jsx)("div",{className:"search__description",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"evenement__left",children:a?(0,u.jsx)("img",{className:"lazyload",style:{width:100,height:100},src:a,alt:""}):(0,u.jsx)("img",{className:"lazyload",style:{width:100,height:100},src:d.Ap,alt:""})}),(0,u.jsxs)("div",{className:"evenement__right",children:[(0,u.jsxs)("div",{className:"date",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{className:"lazyload",src:d.YN,alt:"",srcSet:""}),p]}),h?(0,u.jsx)("div",{className:"cardHeader",children:(0,u.jsx)("span",{className:"categoryBadge",children:h})}):null]}),c?(0,u.jsx)("div",{className:"title",children:c.length>100?(0,o.ZP)(c.substring(0,100)+"..."):(0,o.ZP)(c)}):null,r?(0,u.jsx)("div",{className:"right__footer",children:r.length>100?(0,o.ZP)(r.substring(0,100)+"..."):(0,o.ZP)(r)}):null]})]})})}),(0,u.jsx)("hr",{})]})}var f=c.ZP.div(r||(r=(0,a.Z)(['\n  /* LEFT SECTION */\n  hr {\n    height: 1px;\n    background-color: #2b2840;\n    border: none;\n  }\n  .cardContent {\n    flex-grow: 1;\n    height: 100%;\n    padding-left: 1rem;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    .cardHeader {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      font-size: 12px;\n      font-family: "Proxima Nova";\n\n      .categoryBadge {\n        background: #f8d7da;\n        border-radius: 3px;\n        color: var(--dark--red);\n        padding: 0.4rem 0.5rem;\n        font-size: 12px;\n        font-family: "Proxima Nova";\n      }\n    }\n\n    .title {\n      margin-top: 1.5rem;\n      color: var(--violet);\n\n      span {\n        font-family: "Bebas Neue Pro";\n        font-style: normal;\n        font-weight: 700;\n        font-size: 23px;\n        line-height: 24px;\n      }\n    }\n  }\n  hr {\n    margin-top: 10px;\n    margin-bottom: 5px;\n  }\n'])))},8765:function(t,n,e){var r,a=e(30168),i=(e(72791),e(91523)),c=e(86538),o=e(80184),l=c.ZP.div(r||(r=(0,a.Z)(['\n\tmargin: 28px 0 10px 0;\n\t.breadcrumb {\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tbackground-color: transparent;\n\t}\n\tol {\n\t\tdisplay: flex;\n\t}\n\tli {\n\t\tfont-family: "Proxima Nova";\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tfont-size: 14px;\n\t\tline-height: 25px;\n\t}\n\t.breadcrump__nav {\n\t\tmargin: auto;\n\t\tleft: 0;\n\t\tdisplay: flex;\n\t\tmax-width: 1170px;\n\t\tflex-direction: column;\n\t}\n\n\t.breadcrumb-item:not(.active) a {\n\t\tcolor: rgba(0, 0, 0, 0.45);\n\t}\n\n\th2 {\n\t\tfont-family: "Bebas Neue Pro";\n\t\tfont-style: normal;\n\t\tfont-weight: 700;\n\t\tfont-size: 47px;\n\t\tline-height: 39px;\n\t}\n'])));n.Z=function(t){var n=function(t){return t.length>1};return(0,o.jsx)(l,{children:(0,o.jsxs)("div",{className:"breadcrump__nav",children:[(0,o.jsx)("div",{children:(0,o.jsx)("h2",{children:t.title})}),(0,o.jsx)("div",{children:(0,o.jsx)("ol",{className:"breadcrumb",children:t.items.map((function(e,r){return(0,o.jsx)("li",{className:"breadcrumb-item ".concat(t.items.length-1===r?"active":""),children:n(e)?(0,o.jsxs)(i.rU,{to:e[1],children:[" ",e[0]," ",e[1]]}):e[0]},e[0])}))})})]})})}}}]);
//# sourceMappingURL=3249.11d0713b.chunk.js.map