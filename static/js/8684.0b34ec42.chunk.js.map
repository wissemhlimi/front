{"version":3,"file":"static/js/8684.0b34ec42.chunk.js","mappings":"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","sources":["modules/shared/yup/yupFormSchemas.tsx","view/auth/PasswordReset.tsx","view/auth/styles/AuthWrapper.tsx","view/shared/ButtonIcon.tsx","view/shared/Spinner.tsx","view/shared/form/formErrors.tsx","view/shared/form/items/InputFormItem.tsx"],"sourcesContent":["import * as yup from \"yup\";\r\nimport { i18n } from \"src/i18n\";\r\nimport moment from \"moment\";\r\n\r\nconst yupFormSchemas = {\r\n  generic(label) {\r\n    return yup.mixed().label(label);\r\n  },\r\n  string(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .string()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .nullable(true)\r\n      .trim()\r\n      .label(label);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    if (config.matches) {\r\n      yupChain = yupChain.matches(config.matches);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  boolean(label, config?) {\r\n    return yup.bool().default(false).label(label);\r\n  },\r\n  relationToOne(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .mixed()\r\n      .nullable(true)\r\n      .label(label)\r\n      .transform((value, originalValue) => {\r\n        if (!originalValue) {\r\n          return null;\r\n        }\r\n\r\n        return originalValue.id;\r\n      });\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  stringArray(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .array()\r\n      .compact()\r\n      .ensure()\r\n      .of(\r\n        yup\r\n          .string()\r\n          .transform((cv, ov) => {\r\n            return ov === \"\" ? null : cv;\r\n          })\r\n          .trim()\r\n      )\r\n      .label(label);\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  relationToMany(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .array()\r\n      .nullable(true)\r\n      .label(label)\r\n      .transform((value, originalValue) => {\r\n        if (!originalValue || !originalValue.length) {\r\n          return [];\r\n        }\r\n\r\n        return originalValue.map((item) => item.id);\r\n      });\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  integer(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .number()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .integer()\r\n      .nullable(true)\r\n      .label(label);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  images(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup.array().nullable(true).label(label);\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  files(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup.array().compact().ensure().nullable(true).label(label);\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  enumerator(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .string()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .label(label)\r\n      .nullable(true)\r\n      .oneOf([null, ...(config.options || [])]);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required(i18n(\"validation.string.selected\"));\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  email(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .string()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .nullable(true)\r\n      .trim()\r\n      .label(label)\r\n      .email();\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    if (config.matches) {\r\n      yupChain = yupChain.matches(config.matches);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  decimal(label, config?) {\r\n    config = config || {};\r\n    let yupChain = yup\r\n      .number()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .nullable(true)\r\n      .label(label);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  datetime(label, config?) {\r\n    config = config || {};\r\n    let yupChain = yup\r\n      .mixed()\r\n      .nullable(true)\r\n      .label(label)\r\n      .transform((value, originalValue) =>\r\n        value ? moment(originalValue, \"YYYY-MM-DD HH:mm\").toISOString() : null\r\n      );\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  date(label, config?) {\r\n    config = config || {};\r\n    let yupChain = yup\r\n      .mixed()\r\n      .nullable(true)\r\n      .label(label)\r\n      .test(\"is-date\", i18n(\"validation.mixed.default\"), (value) => {\r\n        if (!value) {\r\n          return true;\r\n        }\r\n\r\n        return moment(value, \"YYYY-MM-DD\").isValid();\r\n      })\r\n      .transform((value) =>\r\n        value ? moment(value).format(\"YYYY-MM-DD\") : null\r\n      );\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n};\r\n\r\nexport default yupFormSchemas;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport Storage from \"src/security/storage\";\r\nimport actions from \"src/modules/auth/authActions\";\r\nimport selectors from \"src/modules/auth/authSelectors\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ButtonIcon from \"../shared/ButtonIcon\";\r\nimport InputFormItem from \"../shared/form/items/InputFormItem\";\r\nimport * as yup from \"yup\";\r\nimport yupFormSchemas from \"src/modules/shared/yup/yupFormSchemas\";\r\nimport FormWrapper from \"../shared/styles/FormWrapper\";\r\nimport { i18n } from \"src/i18n\";\r\nimport { logos } from \"src/assets/images\";\r\nimport AuthWrapper from \"./styles/AuthWrapper\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst schema = yup.object().shape({\r\n  password: yupFormSchemas.string(i18n(\"user.fields.password\"), {\r\n    required: true,\r\n  }),\r\n});\r\n\r\nfunction PasswordResetPage() {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const token = urlParams.get(\"token\");\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector(selectors.selectLoading);\r\n  const externalErrorMessage = useSelector(selectors.selectErrorMessage);\r\n  const [initialValues] = useState({\r\n    email: \"\",\r\n  });\r\n  const form = useForm({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onSubmit\",\r\n    defaultValues: initialValues,\r\n  });\r\n  const onSubmit = ({ password }) => {\r\n    dispatch(actions.doResetPassword(token, password));\r\n  };\r\n  const clearErrorMessage = () => {\r\n    dispatch(actions.doClearErrorMessage());\r\n  };\r\n  useEffect(() => {\r\n    clearErrorMessage();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const handleChange = () => {\r\n    if (externalErrorMessage) {\r\n      clearErrorMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app__resetPassword\">\r\n      <img\r\n        className=\"lazyload\"\r\n        src={logos}\r\n        alt=\"\"\r\n        srcSet=\"\"\r\n        style={{ width: 500, height: \"100%\" }}\r\n      />\r\n\r\n      <AuthWrapper>\r\n        <div className=\"app__signin\">\r\n          <div className=\"app__login\">\r\n            <div className=\"archieve__header\">\r\n              <h2>{i18n(\"auth.passwordReset.message\")}</h2>\r\n              <div className=\"communiquer__bar\"></div>\r\n            </div>\r\n            <div className=\"Login__container\">\r\n              <div className=\"container__form\">\r\n                <FormProvider {...form}>\r\n                  <form onSubmit={form.handleSubmit(onSubmit)}>\r\n                    <div className=\"container__form\">\r\n                      <InputFormItem\r\n                        name=\"password\"\r\n                        label={i18n(\"user.fields.password\")}\r\n                        placeholder=\"password\"\r\n                        autoComplete=\"password\"\r\n                        onChange={handleChange}\r\n                        externalErrorMessage={externalErrorMessage}\r\n                      />\r\n\r\n                      <button className=\"form__button\" disabled={loading}>\r\n                        <ButtonIcon loading={loading} />\r\n                        {i18n(\"buttons.envoyer\")}\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </FormProvider>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </AuthWrapper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PasswordResetPage;\r\n","import styled from \"styled-components\";\r\nconst AuthWrapper = styled.div`\r\n  .app__signin {\r\n    width: 100%;\r\n    padding-top: 140px;\r\n    display: grid;\r\n    place-items: center;\r\n    place-content: center;\r\n  }\r\n  .app__login {\r\n    width: 501px;\r\n  }\r\n  @media (max-width: 1170px) {\r\n    .app__signin {\r\n      width: 100%;\r\n      display: grid;\r\n      place-items: center;\r\n      place-content: center;\r\n      position: relative;\r\n      height: 100vh;\r\n      z-index: 1;\r\n    }\r\n\r\n    .app__login {\r\n      width: calc(100vw - 10%);\r\n    }\r\n  }\r\n  button {\r\n    color: var(--dark--red);\r\n    border: 0;\r\n    padding: 0.8rem 1.2rem;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .container__form {\r\n    display: grid;\r\n    row-gap: 25px;\r\n  }\r\n  input {\r\n    width: 100%;\r\n    border: 1px solid #bdbdbd;\r\n    height: 50px;\r\n    padding: 14px 0 14px 12px;\r\n    color: var(--violet);\r\n    margin-top: 7px;\r\n    font-family: \"Proxima Nova\";\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 17px;\r\n    line-height: 21px;\r\n  }\r\n  .form__button {\r\n    width: 100%;\r\n    background: var(--red);\r\n    color: var(--white);\r\n    font-family: \"Bebas Neue Pro\";\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 20px;\r\n    line-height: 23px;\r\n    padding: 14px 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    place-items: baseline;\r\n    cursor: pointer;\r\n    text-transform: Uppercase;\r\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  }\r\n\r\n  .form__select {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  select,\r\n  textarea {\r\n    font-family: \"Proxima Nova\";\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 17px;\r\n    line-height: 21px;\r\n    padding: 15px;\r\n  }\r\n  select {\r\n    height: 50px;\r\n  }\r\n  .form__button:hover {\r\n    color: #fff;\r\n    background: #ff5444;\r\n    border-color: #ff5444;\r\n    text-shadow: 0 -1px 0 rgb(0 0 0 / 12%);\r\n    box-shadow: 0 2px 0 rgb(0 0 0 / 5%);\r\n  }\r\n  label {\r\n    color: var(--violet);\r\n    font-family: \"Proxima Nova\";\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n    font-weight: 400;\r\n    padding-bottom: 14px;\r\n  }\r\n  .form__oublier {\r\n    position: relative;\r\n    padding-bottom: 31px;\r\n  }\r\n  .oublier {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    text-decoration: underline;\r\n    right: 0;\r\n    font-family: \"Proxima Nova\";\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n  }\r\n  .Login__container {\r\n    padding-top: 44px;\r\n    position: relative;\r\n  }\r\n  .form__link {\r\n    display: flex;\r\n    justify-content: center;\r\n    column-gap: 12px;\r\n  }\r\n  .link__account {\r\n    font-family: \"Bebas Neue Pro\";\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 20px;\r\n    line-height: 23px;\r\n  }\r\n  .link__create {\r\n    font-family: \"Bebas Neue Pro\";\r\n    color: var(--red);\r\n    font-weight: 700;\r\n    font-size: 20px;\r\n    line-height: 23px;\r\n    text-decoration-line: underline;\r\n    text-transform: uppercase;\r\n  }\r\n  .invalid-feedback {\r\n    color: var(--red);\r\n  }\r\n`;\r\nexport default AuthWrapper;\r\n","import React from \"react\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nconst ButtonIcon = (props) => {\r\n  return props.loading ? <Spinner /> : null;\r\n};\r\n\r\nexport default ButtonIcon;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const SpinnerWrapper = styled.div`\r\n  margin: 0 12px;\r\n  .lds-ring {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n  .lds-ring div {\r\n    box-sizing: border-box;\r\n    display: block;\r\n    position: absolute;\r\n    width: 20px;\r\n    height: 20px;\r\n    border: 2px solid #fff;\r\n    border-radius: 50%;\r\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n    border-color: var(--violet) transparent transparent transparent;\r\n  }\r\n  .lds-ring div:nth-child(1) {\r\n    animation-delay: -0.45s;\r\n  }\r\n  .lds-ring div:nth-child(2) {\r\n    animation-delay: -0.3s;\r\n  }\r\n  .lds-ring div:nth-child(3) {\r\n    animation-delay: -0.15s;\r\n  }\r\n  @keyframes lds-ring {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Spinner(props) {\r\n  const { styles } = props;\r\n\r\n  return (\r\n    <SpinnerWrapper>\r\n      <div style={{ height: styles }}>\r\n        <div className='lds-ring'>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </SpinnerWrapper>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","export default class FormErrors {\r\n  static errorMessage(\r\n    name,\r\n    errors,\r\n    touched,\r\n    isSubmitted,\r\n    externalErrorMessage = null\r\n  ) {\r\n    if (externalErrorMessage) {\r\n      return externalErrorMessage;\r\n    }\r\n\r\n    if (!isSubmitted && !touched[name]) {\r\n      return null;\r\n    }\r\n\r\n    const fieldErrors = errors[name];\r\n\r\n    return (\r\n      fieldErrors?.[0]?.message || fieldErrors?.message || fieldErrors || null\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useFormContext } from \"react-hook-form\";\r\nimport FormErrors from \"src/view/shared/form/formErrors\";\r\n\r\nexport function InputFormItem(props) {\r\n  const {\r\n    label,\r\n    description,\r\n    name,\r\n    hint,\r\n    type,\r\n    placeholder,\r\n    autoFocus,\r\n    autoComplete,\r\n    required,\r\n    externalErrorMessage,\r\n    disabled,\r\n    endAdornment,\r\n  } = props;\r\n\r\n  const {\r\n    register,\r\n    errors,\r\n    formState: { touched, isSubmitted },\r\n  } = useFormContext();\r\n\r\n  const errorMessage = FormErrors.errorMessage(\r\n    name,\r\n    errors,\r\n    touched,\r\n    isSubmitted,\r\n    externalErrorMessage\r\n  );\r\n\r\n  return (\r\n    <div className='form__group'>\r\n      <div className={endAdornment ? \"input-group\" : \"\"}>\r\n        {Boolean(label) && (\r\n          <label className={`${required ? \"required\" : null}`} htmlFor={name}>\r\n            {label}\r\n          </label>\r\n        )}\r\n        {description}\r\n        <input\r\n          id={name}\r\n          name={name}\r\n          type={type}\r\n          ref={register}\r\n          onChange={(event) => {\r\n            props.onChange && props.onChange(event.target.value);\r\n          }}\r\n          onBlur={(event) => {\r\n            props.onBlur && props.onBlur(event);\r\n          }}\r\n          autoFocus={autoFocus || undefined}\r\n          autoComplete={autoComplete || undefined}\r\n          disabled={disabled}\r\n          className={`form-control ${errorMessage ? \"is-invalid\" : \"\"}`}\r\n        />\r\n        {endAdornment && (\r\n          <div className='input-group-append'>\r\n            <span className='input-group-text'>{endAdornment}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className='invalid-feedback'>{errorMessage}</div>\r\n      {Boolean(hint) && <small className='form-text text-muted'>{hint}</small>}\r\n    </div>\r\n  );\r\n}\r\n\r\nInputFormItem.defaultProps = {\r\n  type: \"text\",\r\n  required: false,\r\n};\r\n\r\nInputFormItem.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  label: PropTypes.string,\r\n  description: PropTypes.string,\r\n  hint: PropTypes.string,\r\n  autoFocus: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  prefix: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  autoComplete: PropTypes.string,\r\n  externalErrorMessage: PropTypes.string,\r\n  endAdornment: PropTypes.any,\r\n  onChange: PropTypes.any,\r\n};\r\n\r\nexport default InputFormItem;\r\n"],"names":["yupFormSchemas","generic","label","yup","string","config","yupChain","transform","cv","ov","nullable","trim","required","min","max","matches","boolean","default","relationToOne","value","originalValue","id","stringArray","compact","ensure","of","relationToMany","length","map","item","integer","images","files","enumerator","oneOf","options","i18n","email","decimal","datetime","moment","toISOString","date","test","isValid","format","schema","shape","password","token","URLSearchParams","window","location","search","get","dispatch","useDispatch","loading","useSelector","selectors","externalErrorMessage","useState","initialValues","form","useForm","resolver","yupResolver","mode","defaultValues","clearErrorMessage","actions","useEffect","className","src","logos","alt","srcSet","style","width","height","onSubmit","handleSubmit","name","placeholder","autoComplete","onChange","disabled","AuthWrapper","styled","props","SpinnerWrapper","styles","FormErrors","errors","touched","isSubmitted","fieldErrors","message","InputFormItem","description","hint","type","autoFocus","endAdornment","useFormContext","register","formState","errorMessage","Boolean","htmlFor","ref","event","target","onBlur","undefined","defaultProps"],"sourceRoot":""}