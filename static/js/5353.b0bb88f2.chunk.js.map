{"version":3,"file":"static/js/5353.b0bb88f2.chunk.js","mappings":"kSAOqBA,EAAAA,WAAAA,SAAAA,KAAAA,EAAAA,EAAAA,GAAAA,KAAAA,EAAAA,CA4GnB,OA5GmBA,EAAAA,EAAAA,GAAAA,EAAAA,KAAAA,CAAAA,CAAAA,IAAAA,WAAAA,MACnB,SAAgBC,EAAMC,GACpB,GAAKA,EAAL,CAIA,GAAIA,EAAOC,QACJF,EAAKG,KAAKC,WAAW,SACxB,MAAM,IAAIC,OAAMC,EAAAA,EAAAA,IAAK,uBAIzB,GACEL,EAAOM,QAAQC,gBACfR,EAAKS,KAAOR,EAAOM,QAAQC,eAE3B,MAAM,IAAIH,OACRC,EAAAA,EAAAA,IAAK,oBAAqBI,IAAST,EAAOM,QAAQC,kBAItD,IAAMG,EAAYC,EAAqBZ,EAAKa,MAE5C,GAAIZ,EAAOa,UAAYb,EAAOa,QAAQC,SAASJ,GAC7C,MAAM,IAAIN,OAAMC,EAAAA,EAAAA,IAAK,uBAAwBL,EAAOa,QAAQE,KAAK,OApBlE,CAsBF,gEAED,WAAoBhB,EAAMC,GAA1B,iGAEIgB,KAAKC,SAASlB,EAAMC,GAFxB,wEAIWkB,QAAQC,OAAR,OAJX,cAOQT,EAAYC,EAAqBZ,EAAKa,MACtCQ,GAAKC,EAAAA,EAAAA,KACLC,EATR,UASsBF,EATtB,YAS4BV,GAT5B,UAYUM,KAAKO,qBAAqBD,EAAUtB,GAZ9C,wBAWUwB,EAXV,EAWUA,kBAAmBC,EAX7B,EAW6BA,YAAaC,EAX1C,EAW0CA,WAX1C,UAaQV,KAAKW,eAAe5B,EAAMyB,GAblC,iCAeS,CACLJ,GAAIA,EACJR,KAAMb,EAAKa,KACXgB,YAAa7B,EAAKS,KAClBqB,UACEL,GAAqBA,EAAkBK,UACnCL,EAAkBK,UAClB,KACNH,WAAAA,EACAD,YAAAA,EACAK,KAAK,IAzBT,8GAFC,IAED,wEA4BA,WAA+BC,EAAS/B,EAAQgC,EAAWC,GAA3D,gGAEIjB,KAAKC,SAASc,EAAQhC,KAAMC,GAFhC,sDAII+B,EAAQE,QAAR,MACAA,EAAQ,EAAD,IALX,0BASQvB,EAAYC,EAAqBoB,EAAQhC,KAAKa,MAC9CQ,GAAKC,EAAAA,EAAAA,KACLC,EAXR,UAWsBF,EAXtB,YAW4BV,GAE1BM,KAAKO,qBAAqBD,EAAUtB,GACjCkC,MAAK,YAAqD,IAAlDV,EAAiD,EAAjDA,kBAAmBC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,WACvC,OAAO,EAAKC,eAAeI,EAAQhC,KAAMyB,GAAmBU,MAAK,WAC/DH,EAAQC,YACRA,EAAU,CACRZ,GAAIA,EACJR,KAAMmB,EAAQhC,KAAKa,KACnBgB,YAAaG,EAAQhC,KAAKS,KAC1BqB,UACEL,GAAqBA,EAAkBK,UACnCL,EAAkBK,UAClB,KACNH,WAAAA,EACAD,YAAAA,EACAK,KAAK,GAER,GACF,IACAK,OAAM,SAACC,GACNL,EAAQE,QAAQG,GAChBH,EAAQG,EACT,IAlCL,kHA5BA,IA4BA,2EAoCA,WAAkCd,EAAUtB,GAA5C,uFACQqC,EAAWC,EAAAA,EAAAA,MADnB,SAGyBC,EAAAA,EAAAA,IAAA,kBACVF,EADU,qBAErB,CACEG,OAAQ,CACNlB,SAAUA,EACVmB,UAAWzC,EAAOM,QAAQc,MARlC,uBAGUsB,EAHV,EAGUA,KAHV,kBAaSA,GAbT,gGApCA,IAoCA,qEAgBA,WAA4B3C,EAAMyB,GAAlC,wFAKI,IALJ,SAEUmB,EAAMnB,EAAkBmB,IACxBC,EAAW,IAAIC,SAErB,MAA2BC,OAAOC,QAChCvB,EAAkBwB,QAAU,CAAC,GAD/B,eAEI,GAAD,eAFSC,EAET,KAFcC,EAEd,KACDN,EAASO,OAAOF,EAAKC,GAR3B,OAUIN,EAASO,OAAO,OAAQpD,GAV5B,kBAYWqD,IAAAA,KAAWT,EAAKC,EAAU,CAC/BS,QAAS,CACP,eAAgB,0BAdxB,sCAkBIC,QAAQlB,MAAR,MAlBJ,mHAhBA,MAgBA,EA5GmBtC,GAoIrB,SAASa,EAAqBW,GAC5B,IAAKA,EACH,OAAO,KAGT,IACMiC,EADQ,kBACKA,KAAKjC,GAExB,OAAKiC,EAIEA,EAAK,GAHH,IAIV,C,iFCpJKC,EAAiB,CACrBC,QADqB,SACbC,GACN,OAAOC,EAAAA,KAAYD,MAAMA,EAC1B,EACDE,OAJqB,SAIdF,EAAO1D,GACZA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAEZG,WAAU,SAACC,EAAIC,GACd,MAAc,KAAPA,EAAY,KAAOD,CAC3B,IACAE,UAAS,GACTC,OACAR,MAAMA,GAkBT,OAhBI1D,EAAOmE,WACTN,EAAWA,EAASM,aAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,OACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,MAG7BpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG7BrE,EAAOsE,UACTT,EAAWA,EAASS,QAAQtE,EAAOsE,UAG9BT,CACR,EACDU,QAlCqB,SAkCbb,EAAO1D,GACb,OAAO2D,EAAAA,KAAWa,SAAQ,GAAOd,MAAMA,EACxC,EACDe,cArCqB,SAqCPf,EAAO1D,GACnBA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAEZM,UAAS,GACTP,MAAMA,GACNI,WAAU,SAACZ,EAAOwB,GACjB,OAAKA,EAIEA,EAActD,GAHZ,IAIV,IAMH,OAJIpB,EAAOmE,WACTN,EAAWA,EAASM,YAGfN,CACR,EACDc,YA1DqB,SA0DTjB,EAAO1D,GACjBA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAEZiB,UACAC,SACAC,GACCnB,EAAAA,KAEGG,WAAU,SAACC,EAAIC,GACd,MAAc,KAAPA,EAAY,KAAOD,CAC3B,IACAG,QAEJR,MAAMA,GAgBT,OAdI1D,EAAOmE,UAAYnE,EAAOoE,OAC5BP,EAAWA,EAASM,YAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,IACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,KACtBpE,EAAOmE,WAChBN,EAAWA,EAASO,IAAI,IAGtBpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG1BR,CACR,EACDkB,eA3FqB,SA2FNrB,EAAO1D,GACpBA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAEZM,UAAS,GACTP,MAAMA,GACNI,WAAU,SAACZ,EAAOwB,GACjB,OAAKA,GAAkBA,EAAcM,OAI9BN,EAAcO,KAAI,SAACC,GAAD,OAAUA,EAAK9D,EAAf,IAHhB,EAIV,IAgBH,OAdIpB,EAAOmE,UAAYnE,EAAOoE,OAC5BP,EAAWA,EAASM,YAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,IACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,KACtBpE,EAAOmE,WAChBN,EAAWA,EAASO,IAAI,IAGtBpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG1BR,CACR,EACDsB,QA1HqB,SA0HbzB,EAAO1D,GACbA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAEZG,WAAU,SAACC,EAAIC,GACd,MAAc,KAAPA,EAAY,KAAOD,CAC3B,IACAoB,UACAlB,UAAS,GACTP,MAAMA,GAcT,OAZI1D,EAAOmE,WACTN,EAAWA,EAASM,aAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,OACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,MAG7BpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG1BR,CACR,EACDuB,OApJqB,SAoJd1B,EAAO1D,GACZA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAAYM,UAAS,GAAMP,MAAMA,GAgBhD,OAdI1D,EAAOmE,UAAYnE,EAAOoE,OAC5BP,EAAWA,EAASM,YAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,IACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,KACtBpE,EAAOmE,WAChBN,EAAWA,EAASO,IAAI,IAGtBpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG1BR,CACR,EACDwB,MAzKqB,SAyKf3B,EAAO1D,GACXA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAAYiB,UAAUC,SAASZ,UAAS,GAAMP,MAAMA,GAgBnE,OAdI1D,EAAOmE,UAAYnE,EAAOoE,OAC5BP,EAAWA,EAASM,YAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,IACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,KACtBpE,EAAOmE,WAChBN,EAAWA,EAASO,IAAI,IAGtBpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG1BR,CACR,EACDyB,WA9LqB,SA8LV5B,EAAO1D,GAChBA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAEZG,WAAU,SAACC,EAAIC,GACd,MAAc,KAAPA,EAAY,KAAOD,CAC3B,IACAL,MAAMA,GACNO,UAAS,GACTsB,MAPY,CAOL,MAPK,eAOKvF,EAAOwF,SAAW,MAMtC,OAJIxF,EAAOmE,WACTN,EAAWA,EAASM,UAAS9D,EAAAA,EAAAA,IAAK,gCAG7BwD,CACR,EACD4B,MAhNqB,SAgNf/B,EAAO1D,GACXA,EAASA,GAAU,CAAC,EAEpB,IAAI6D,EAAWF,EAAAA,KAEZG,WAAU,SAACC,EAAIC,GACd,MAAc,KAAPA,EAAY,KAAOD,CAC3B,IACAE,UAAS,GACTC,OACAR,MAAMA,GACN+B,QAkBH,OAhBIzF,EAAOmE,WACTN,EAAWA,EAASM,aAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,OACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,MAG7BpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG7BrE,EAAOsE,UACTT,EAAWA,EAASS,QAAQtE,EAAOsE,UAG9BT,CACR,EACD6B,QA/OqB,SA+ObhC,EAAO1D,GACbA,EAASA,GAAU,CAAC,EACpB,IAAI6D,EAAWF,EAAAA,KAEZG,WAAU,SAACC,EAAIC,GACd,MAAc,KAAPA,EAAY,KAAOD,CAC3B,IACAE,UAAS,GACTP,MAAMA,GAcT,OAZI1D,EAAOmE,WACTN,EAAWA,EAASM,aAGlBnE,EAAOoE,KAAsB,IAAfpE,EAAOoE,OACvBP,EAAWA,EAASO,IAAIpE,EAAOoE,MAG7BpE,EAAOqE,MACTR,EAAWA,EAASQ,IAAIrE,EAAOqE,MAG1BR,CACR,EACD8B,SAvQqB,SAuQZjC,EAAO1D,GACdA,EAASA,GAAU,CAAC,EACpB,IAAI6D,EAAWF,EAAAA,KAEZM,UAAS,GACTP,MAAMA,GACNI,WAAU,SAACZ,EAAOwB,GAAR,OACTxB,EAAQ0C,IAAOlB,EAAe,oBAAoBmB,cAAgB,IADzD,IAQb,OAJI7F,EAAOmE,WACTN,EAAWA,EAASM,YAGfN,CACR,EACDiC,KAvRqB,SAuRhBpC,EAAO1D,GACVA,EAASA,GAAU,CAAC,EACpB,IAAI6D,EAAWF,EAAAA,KAEZM,UAAS,GACTP,MAAMA,GACNqC,KAAK,WAAW1F,EAAAA,EAAAA,IAAK,6BAA6B,SAAC6C,GAClD,OAAKA,GAIE0C,IAAO1C,EAAO,cAAc8C,SACpC,IACAlC,WAAU,SAACZ,GAAD,OACTA,EAAQ0C,IAAO1C,GAAO+C,OAAO,cAAgB,IADpC,IAQb,OAJIjG,EAAOmE,WACTN,EAAWA,EAASM,YAGfN,CACR,GAGH,K,2DC7SA,IAJmB,SAACqC,GAClB,OAAOA,EAAMC,SAAU,SAAC,IAAD,IAAc,IACtC,C,2DCqBD,IAvBA,WACE,IAAMC,EAAgBC,aAAaC,QAAQ,YAmB3C,OAAO,gBAAKC,UAAU,SAAf,SAhBiB,OAAlBH,GAA4C,OAAlBA,GAE1B,iCACE,cAAGG,UAAU,2BADf,KAC8ClG,EAAAA,EAAAA,IAAK,iBAAkB,OAInD,OAAlB+F,GAEA,iCACG/F,EAAAA,EAAAA,IAAK,iBADR,KAC0B,cAAGkG,UAAU,mCAH3C,GAUH,C,0ECrBYC,EAAiBC,EAAAA,GAAAA,IAAH,8yBAuD3B,IAjBA,SAAiBP,GACf,IAAQQ,EAAWR,EAAXQ,OAER,OACE,SAACF,EAAD,WACE,gBAAKG,MAAO,CAAEC,OAAQF,GAAtB,UACE,iBAAKH,UAAU,WAAf,WACE,oBACA,oBACA,oBACA,yBAKT,C,kFCxDoBM,EAAAA,WAAAA,SAAAA,KAAAA,EAAAA,EAAAA,GAAAA,KAAAA,EAAAA,CAqBlB,OArBkBA,EAAAA,EAAAA,GAAAA,EAAAA,KAAAA,CAAAA,CAAAA,IAAAA,eAAAA,MACnB,SACEjG,EACAkG,EACAC,EACAC,GAEC,IAAD,EADAC,EACA,uDADuB,KAEvB,GAAIA,EACF,OAAOA,EAGT,IAAKD,IAAgBD,EAAQnG,GAC3B,OAAO,KAGT,IAAMsG,EAAcJ,EAAOlG,GAE3B,OACa,OAAXsG,QAAW,IAAXA,GAAA,UAAAA,EAAc,UAAd,eAAkBC,WAAlB,OAA6BD,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAaC,UAAWD,GAAe,IAEvE,OArBkBL,E,yCCCfO,E,SAAcX,GAAAA,IAAH,8yJAqOjB,K","sources":["modules/shared/fileupload/fileUploader.tsx","modules/shared/yup/yupFormSchemas.tsx","view/shared/ButtonIcon.tsx","view/shared/Retour.tsx","view/shared/Spinner.tsx","view/shared/form/formErrors.tsx","view/shared/styles/FormWrapper.tsx"],"sourcesContent":["import filesize from \"filesize\";\r\nimport { i18n } from \"src/i18n\";\r\nimport authAxios from \"src/modules/shared/axios/authAxios\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport AuthCurrentTenant from \"src/modules/auth/authCurrentTenant\";\r\nimport axios from \"axios\";\r\n\r\nexport default class FileUploader {\r\n  static validate(file, config) {\r\n    if (!config) {\r\n      return;\r\n    }\r\n\r\n    if (config.image) {\r\n      if (!file.type.startsWith(\"image\")) {\r\n        throw new Error(i18n(\"fileUploader.image\"));\r\n      }\r\n    }\r\n\r\n    if (\r\n      config.storage.maxSizeInBytes &&\r\n      file.size > config.storage.maxSizeInBytes\r\n    ) {\r\n      throw new Error(\r\n        i18n(\"fileUploader.size\", filesize(config.storage.maxSizeInBytes))\r\n      );\r\n    }\r\n\r\n    const extension = extractExtensionFrom(file.name);\r\n\r\n    if (config.formats && !config.formats.includes(extension)) {\r\n      throw new Error(i18n(\"fileUploader.formats\", config.formats.join(\", \")));\r\n    }\r\n  }\r\n\r\n  static async upload(file, config) {\r\n    try {\r\n      this.validate(file, config);\r\n    } catch (error) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    const extension = extractExtensionFrom(file.name);\r\n    const id = uuid();\r\n    const filename = `${id}.${extension}`;\r\n\r\n    const { uploadCredentials, downloadUrl, privateUrl } =\r\n      await this.fetchFileCredentials(filename, config);\r\n    await this.uploadToServer(file, uploadCredentials);\r\n\r\n    return {\r\n      id: id,\r\n      name: file.name,\r\n      sizeInBytes: file.size,\r\n      publicUrl:\r\n        uploadCredentials && uploadCredentials.publicUrl\r\n          ? uploadCredentials.publicUrl\r\n          : null,\r\n      privateUrl,\r\n      downloadUrl,\r\n      new: true,\r\n    };\r\n  }\r\n  static async uploadFromRequest(request, config, onSuccess, onError) {\r\n    try {\r\n      this.validate(request.file, config);\r\n    } catch (error) {\r\n      request.onError(error);\r\n      onError(error);\r\n      return;\r\n    }\r\n\r\n    const extension = extractExtensionFrom(request.file.name);\r\n    const id = uuid();\r\n    const filename = `${id}.${extension}`;\r\n\r\n    this.fetchFileCredentials(filename, config)\r\n      .then(({ uploadCredentials, downloadUrl, privateUrl }) => {\r\n        return this.uploadToServer(request.file, uploadCredentials).then(() => {\r\n          request.onSuccess();\r\n          onSuccess({\r\n            id: id,\r\n            name: request.file.name,\r\n            sizeInBytes: request.file.size,\r\n            publicUrl:\r\n              uploadCredentials && uploadCredentials.publicUrl\r\n                ? uploadCredentials.publicUrl\r\n                : null,\r\n            privateUrl,\r\n            downloadUrl,\r\n            new: true,\r\n          });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        request.onError(error);\r\n        onError(error);\r\n      });\r\n  }\r\n  static async fetchFileCredentials(filename, config) {\r\n    const tenantId = AuthCurrentTenant.get();\r\n\r\n    const { data } = await authAxios.get(\r\n      `/tenant/${tenantId}/file/credentials`,\r\n      {\r\n        params: {\r\n          filename: filename,\r\n          storageId: config.storage.id,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  }\r\n\r\n  static async uploadToServer(file, uploadCredentials) {\r\n    try {\r\n      const url = uploadCredentials.url;\r\n      const formData = new FormData();\r\n\r\n      for (const [key, value] of Object.entries(\r\n        uploadCredentials.fields || {}\r\n      )) {\r\n        formData.append(key, value as string);\r\n      }\r\n      formData.append(\"file\", file);\r\n\r\n      return axios.post(url, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nfunction extractExtensionFrom(filename) {\r\n  if (!filename) {\r\n    return null;\r\n  }\r\n\r\n  const regex = /(?:\\.([^.]+))?$/;\r\n  const exec = regex.exec(filename);\r\n\r\n  if (!exec) {\r\n    return null;\r\n  }\r\n\r\n  return exec[1];\r\n}\r\n","import * as yup from \"yup\";\r\nimport { i18n } from \"src/i18n\";\r\nimport moment from \"moment\";\r\n\r\nconst yupFormSchemas = {\r\n  generic(label) {\r\n    return yup.mixed().label(label);\r\n  },\r\n  string(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .string()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .nullable(true)\r\n      .trim()\r\n      .label(label);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    if (config.matches) {\r\n      yupChain = yupChain.matches(config.matches);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  boolean(label, config?) {\r\n    return yup.bool().default(false).label(label);\r\n  },\r\n  relationToOne(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .mixed()\r\n      .nullable(true)\r\n      .label(label)\r\n      .transform((value, originalValue) => {\r\n        if (!originalValue) {\r\n          return null;\r\n        }\r\n\r\n        return originalValue.id;\r\n      });\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  stringArray(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .array()\r\n      .compact()\r\n      .ensure()\r\n      .of(\r\n        yup\r\n          .string()\r\n          .transform((cv, ov) => {\r\n            return ov === \"\" ? null : cv;\r\n          })\r\n          .trim()\r\n      )\r\n      .label(label);\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  relationToMany(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .array()\r\n      .nullable(true)\r\n      .label(label)\r\n      .transform((value, originalValue) => {\r\n        if (!originalValue || !originalValue.length) {\r\n          return [];\r\n        }\r\n\r\n        return originalValue.map((item) => item.id);\r\n      });\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  integer(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .number()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .integer()\r\n      .nullable(true)\r\n      .label(label);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  images(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup.array().nullable(true).label(label);\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  files(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup.array().compact().ensure().nullable(true).label(label);\r\n\r\n    if (config.required || config.min) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    } else if (config.required) {\r\n      yupChain = yupChain.min(1);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  enumerator(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .string()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .label(label)\r\n      .nullable(true)\r\n      .oneOf([null, ...(config.options || [])]);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required(i18n(\"validation.string.selected\"));\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  email(label, config?) {\r\n    config = config || {};\r\n\r\n    let yupChain = yup\r\n      .string()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .nullable(true)\r\n      .trim()\r\n      .label(label)\r\n      .email();\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    if (config.matches) {\r\n      yupChain = yupChain.matches(config.matches);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  decimal(label, config?) {\r\n    config = config || {};\r\n    let yupChain = yup\r\n      .number()\r\n      .transform((cv, ov) => {\r\n        return ov === \"\" ? null : cv;\r\n      })\r\n      .nullable(true)\r\n      .label(label);\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    if (config.min || config.min === 0) {\r\n      yupChain = yupChain.min(config.min);\r\n    }\r\n\r\n    if (config.max) {\r\n      yupChain = yupChain.max(config.max);\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  datetime(label, config?) {\r\n    config = config || {};\r\n    let yupChain = yup\r\n      .mixed()\r\n      .nullable(true)\r\n      .label(label)\r\n      .transform((value, originalValue) =>\r\n        value ? moment(originalValue, \"YYYY-MM-DD HH:mm\").toISOString() : null\r\n      );\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n  date(label, config?) {\r\n    config = config || {};\r\n    let yupChain = yup\r\n      .mixed()\r\n      .nullable(true)\r\n      .label(label)\r\n      .test(\"is-date\", i18n(\"validation.mixed.default\"), (value) => {\r\n        if (!value) {\r\n          return true;\r\n        }\r\n\r\n        return moment(value, \"YYYY-MM-DD\").isValid();\r\n      })\r\n      .transform((value) =>\r\n        value ? moment(value).format(\"YYYY-MM-DD\") : null\r\n      );\r\n\r\n    if (config.required) {\r\n      yupChain = yupChain.required();\r\n    }\r\n\r\n    return yupChain;\r\n  },\r\n};\r\n\r\nexport default yupFormSchemas;\r\n","import React from \"react\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nconst ButtonIcon = (props) => {\r\n  return props.loading ? <Spinner /> : null;\r\n};\r\n\r\nexport default ButtonIcon;\r\n","import React from \"react\";\r\nimport { i18n } from \"src/i18n\";\r\n\r\nfunction Retour() {\r\n  const Currentlangue = localStorage.getItem(\"language\");\r\n\r\n  const checkLanguage = () => {\r\n    if (Currentlangue === \"fr\" || Currentlangue === \"en\") {\r\n      return (\r\n        <>\r\n          <i className='fa-solid fa-arrow-left'></i> {i18n(\"common.retour\")}{\" \"}\r\n        </>\r\n      );\r\n    }\r\n    if (Currentlangue === \"ar\") {\r\n      return (\r\n        <>\r\n          {i18n(\"common.retour\")} <i className='fa-solid fa-arrow-left'></i>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  return <div className='retour'>{checkLanguage()}</div>;\r\n}\r\n\r\nexport default Retour;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const SpinnerWrapper = styled.div`\r\n  margin: 0 12px;\r\n  .lds-ring {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n  .lds-ring div {\r\n    box-sizing: border-box;\r\n    display: block;\r\n    position: absolute;\r\n    width: 20px;\r\n    height: 20px;\r\n    border: 2px solid #fff;\r\n    border-radius: 50%;\r\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n    border-color: var(--violet) transparent transparent transparent;\r\n  }\r\n  .lds-ring div:nth-child(1) {\r\n    animation-delay: -0.45s;\r\n  }\r\n  .lds-ring div:nth-child(2) {\r\n    animation-delay: -0.3s;\r\n  }\r\n  .lds-ring div:nth-child(3) {\r\n    animation-delay: -0.15s;\r\n  }\r\n  @keyframes lds-ring {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Spinner(props) {\r\n  const { styles } = props;\r\n\r\n  return (\r\n    <SpinnerWrapper>\r\n      <div style={{ height: styles }}>\r\n        <div className='lds-ring'>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </SpinnerWrapper>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","export default class FormErrors {\r\n  static errorMessage(\r\n    name,\r\n    errors,\r\n    touched,\r\n    isSubmitted,\r\n    externalErrorMessage = null\r\n  ) {\r\n    if (externalErrorMessage) {\r\n      return externalErrorMessage;\r\n    }\r\n\r\n    if (!isSubmitted && !touched[name]) {\r\n      return null;\r\n    }\r\n\r\n    const fieldErrors = errors[name];\r\n\r\n    return (\r\n      fieldErrors?.[0]?.message || fieldErrors?.message || fieldErrors || null\r\n    );\r\n  }\r\n}\r\n","import styled from \"styled-components\";\r\nconst FormWrapper = styled.div`\r\n  .Login__container {\r\n    padding-top: 44px;\r\n    position: relative;\r\n  }\r\n\r\n  button {\r\n    color: var(--dark--red);\r\n    border: 0;\r\n    // padding: 0.8rem 1.2rem;\r\n    cursor: pointer;\r\n  }\r\n  .container__form {\r\n    display: flex;\r\n    row-gap: 25px;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n    width: calc(100vw - 10%);\r\n    max-width: 501px;\r\n    flex-direction: column;\r\n  }\r\n  input[type=\"text\"],\r\n  input[type=\"password\"] {\r\n    width: 100%;\r\n    border: 1px solid #bdbdbd;\r\n    height: 50px;\r\n    padding: 14px 0 14px 12px;\r\n    color: var(--violet);\r\n    margin-top: 7px;\r\n    font-family: \"Proxima Nova\";\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 17px;\r\n    line-height: 21px;\r\n  }\r\n  .item__button {\r\n    display: flex;\r\n    column-gap: 45px;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n  }\r\n  .form__button {\r\n    width: 177px;\r\n    background: var(--red);\r\n    color: var(--white);\r\n    font-family: \"Bebas Neue Pro\";\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 20px;\r\n    line-height: 23px;\r\n    padding: 14px 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    place-items: baseline;\r\n    cursor: pointer;\r\n    text-transform: Uppercase;\r\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  }\r\n  .form-group {\r\n    text-align: start;\r\n    width: 100% !important;\r\n  }\r\n  .form__button:hover {\r\n    color: #fff;\r\n    background: #ff5444;\r\n    border-color: ##ff5444;\r\n    text-shadow: 0 -1px 0 rgb(0 0 0 / 12%);\r\n    box-shadow: 0 2px 0 rgb(0 0 0 / 5%);\r\n  }\r\n  label {\r\n    color: var(--violet);\r\n    font-family: \"Proxima Nova\";\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n    font-weight: 400;\r\n    padding-bottom: 7px;\r\n  }\r\n  .form__oublier {\r\n    position: relative;\r\n    padding-bottom: 31px;\r\n  }\r\n  .oublier {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 0;\r\n    font-family: \"Proxima Nova\";\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n  }\r\n  .Login__container {\r\n    padding-top: 32px;\r\n    position: relative;\r\n    width: 100% !important;\r\n  }\r\n  .form__link {\r\n    display: flex;\r\n    justify-content: center;\r\n    column-gap: 12px;\r\n  }\r\n  .link__account {\r\n    font-size: 20px;\r\n    line-height: 23px;\r\n    text-align: center;\r\n    font-family: \"Bebas Neue Pro\";\r\n  }\r\n  .link__create {\r\n    font-family: \"Bebas Neue Pro\";\r\n    color: var(--red);\r\n    font-weight: 700;\r\n    font-size: 20px;\r\n    line-height: 23px;\r\n    text-decoration-line: underline;\r\n    text-transform: uppercase;\r\n  }\r\n  .invalid-feedback {\r\n    color: var(--red);\r\n  }\r\n\r\n  @media (max-wdith: 800px) {\r\n  }\r\n\r\n  .cancel__button {\r\n    padding: 0;\r\n    background-color: transparent;\r\n    position: relative;\r\n    right: 0;\r\n    font-family: \"Bebas Neue Pro\";\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 20px;\r\n    line-height: 23px;\r\n    color: var(--violet);\r\n  }\r\n  .form__select {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  select,\r\n  textarea {\r\n    font-family: \"Proxima Nova\";\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 17px;\r\n    line-height: 21px;\r\n    padding: 15px;\r\n  }\r\n  select {\r\n    height: 50px;\r\n  }\r\n  textarea {\r\n    height: 150px;\r\n    width: 100%;\r\n  }\r\n\r\n  .form__importance {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .importance__status {\r\n    display: flex;\r\n    with: 100%;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .importance__status > div {\r\n    display: grid;\r\n    place-items: center;\r\n    height: 50px;\r\n    border: 1px solid #bdbdbd;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    color: var(--gray5);\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n  }\r\n  .importance__status > .status__active {\r\n    border: 2px solid #2b2840;\r\n    box-shadow: 0px 7px 14px rgba(0, 0, 0, 0.09);\r\n    color: var(--violet);\r\n    font-weight: 700;\r\n    font-size: 14px;\r\n    line-height: 17px;\r\n  }\r\n  .form__radio {\r\n    padding-top: 7px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    column-gap: 21px;\r\n  }\r\n  .form__radio > div {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    column-gap: 21px;\r\n  }\r\n  .form__radio > div > div {\r\n    height: 50px;\r\n    border: 1px solid #bdbdbd;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-start;\r\n    padding-left: 11px;\r\n    column-gap: 74px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .form__radio > div > .radio__active {\r\n    border: 2px solid #2b2840;\r\n  }\r\n\r\n  input[type=\"radio\"] {\r\n    width: 18px;\r\n    height: 18px;\r\n    background-clip: content-box;\r\n    border: 2px solid #bbbbbb;\r\n    background-color: #e7e6e7;\r\n    accent-color: var(--red);\r\n  }\r\n\r\n  input[type=\"radio\"]:checked {\r\n    background-color: #93e026;\r\n  }\r\n  .form_textarea {\r\n    width: 100%;\r\n  }\r\n`;\r\nexport default FormWrapper;\r\n"],"names":["FileUploader","file","config","image","type","startsWith","Error","i18n","storage","maxSizeInBytes","size","filesize","extension","extractExtensionFrom","name","formats","includes","join","this","validate","Promise","reject","id","uuid","filename","fetchFileCredentials","uploadCredentials","downloadUrl","privateUrl","uploadToServer","sizeInBytes","publicUrl","new","request","onSuccess","onError","then","catch","error","tenantId","AuthCurrentTenant","authAxios","params","storageId","data","url","formData","FormData","Object","entries","fields","key","value","append","axios","headers","console","exec","yupFormSchemas","generic","label","yup","string","yupChain","transform","cv","ov","nullable","trim","required","min","max","matches","boolean","default","relationToOne","originalValue","stringArray","compact","ensure","of","relationToMany","length","map","item","integer","images","files","enumerator","oneOf","options","email","decimal","datetime","moment","toISOString","date","test","isValid","format","props","loading","Currentlangue","localStorage","getItem","className","SpinnerWrapper","styled","styles","style","height","FormErrors","errors","touched","isSubmitted","externalErrorMessage","fieldErrors","message","FormWrapper"],"sourceRoot":""}