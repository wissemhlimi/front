"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[800],{9932:function(n,t,e){e.d(t,{Z:function(){return s}});var r=e(74165),a=e(15861),i=e(15671),c=e(43144),o=e(27415),l=e(56856),s=function(){function n(){(0,i.Z)(this,n)}return(0,c.Z)(n,null,[{key:"getCategoriesList",value:function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var t,e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.Z.get(),n.next=3,o.Z.get("/tenant/".concat(t,"/category-publication"));case 3:return e=n.sent,n.abrupt("return",e.data);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"getSearchResultsForPublicationsBasedOnSearchString",value:function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e){var a,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=l.Z.get(),n.next=3,o.Z.get("/tenant/".concat(a,"/search?filter=").concat(t,"&limit=10&offset=").concat(e,"&validated={true}"));case 3:return i=n.sent,n.abrupt("return",i.data);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},{key:"searchUsingMainCatefories",value:function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a){var i,c,s,u,d,h;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=l.Z.get(),n.next=3,o.Z.get("/tenant/".concat(s,"/category-publication?filter[titleFR]=").concat(e));case 3:return u=n.sent,d=null===(i=u.data.rows[0])||void 0===i?void 0:i.publications,h={rows:null!==d&&void 0!==d?d:[],count:null!==(c=null===d||void 0===d?void 0:d.length)&&void 0!==c?c:0},n.abrupt("return",h);case 7:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}()},{key:"getSearchResultsForArchiveBasedOnSearchString",value:function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a){var i,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=l.Z.get(),n.next=3,o.Z.get("/tenant/".concat(i,"/publication?filter[descriptionFR]=").concat(t,"&limit=5&offset=").concat(a,"&filter[statut]=archive").concat(e));case 3:return c=n.sent,n.abrupt("return",c.data);case 5:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}()},{key:"getArchivePublications",value:function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a){var i,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=l.Z.get(),n.next=3,o.Z.get("/tenant/".concat(i,"/publication/search?filter=").concat(t,"&limit=10&offset=").concat(a,"&advanced[statut]=").concat(e.statut,"&advanced[thematique]=").concat(e.thematique,"&advanced[category]=").concat(e.category));case 3:return c=n.sent,n.abrupt("return",c.data);case 5:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}()}]),n}()},6280:function(n,t,e){e.r(t);var r,a=e(30168),i=e(74165),c=e(15861),o=e(29439),l=e(72791),s=e(25930),u=e(8765),d=e(86538),h=e(9932),f=e(2579),p=(e(85862),e(70651)),m=e(39126),v=e(80184);t.default=function(n){var t=n.location,e=localStorage.getItem("language"),r=(0,l.useState)([]),a=(0,o.Z)(r,2),d=a[0],x=a[1],y=(0,l.useState)(!1),b=(0,o.Z)(y,2),j=b[0],Z=b[1],w=function(){var n=(0,c.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Z(!0),n.next=4,h.Z.getArchivePublications(t.archiveSearchString,t.archiveFilter,0);case 4:e=n.sent,x(e.rows),Z(!1),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("err",n.t0),Z(!1);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){w()}),[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.Z,{title:(0,s.ag)("common.Archives"),items:[[(0,s.ag)("app.title"),"/"],[(0,s.ag)("common.Archives")]]})}),(0,v.jsx)("div",{className:"app__archieve__page_search",children:j?(0,v.jsx)("section",{children:(0,v.jsx)(f.Z,{height:170})}):(0,v.jsx)("div",{className:"archeive",children:(0,v.jsx)("div",{className:"archieve__content",children:(0,v.jsx)("div",{className:"archieve__left",children:(0,v.jsx)(g,{children:(0,v.jsx)("div",{children:d.length>0?(0,v.jsx)("div",{children:d.map((function(n,t){var r,a,i,c;return n.photos&&(r=function(n){var t="https://via.placeholder.com/270x175";return n.forEach((function(n){if(n.downloadUrl&&n.downloadUrl.length>=1){var e=n.downloadUrl.substring(n.downloadUrl.lastIndexOf(".")+1,n.downloadUrl.length);"png, jpg, jpeg, gif".includes(e)&&(t=n.downloadUrl)}})),t}(n.photos)),"fr"===e?(0,v.jsx)(p.Z,{type:n.category?n.category.titleFR:null,title:n.titleFR,entite:"detail",_id:null!==(a=n._id)&&void 0!==a?a:0,date:n.date,content:n.descriptionFR,thumbnail:r},t):"ar"===e?(0,v.jsx)(p.Z,{type:n.category?n.category.titleAR:null,title:n.titleAR,entite:"detail",_id:null!==(i=n._id)&&void 0!==i?i:0,date:n.date,content:n.descriptionAR,thumbnail:r},t):"en"===e?(0,v.jsx)(p.Z,{type:n.category?n.category.titleEN:null,title:n.titleEN,entite:"detail",_id:null!==(c=n._id)&&void 0!==c?c:0,date:n.date,content:n.descriptionEN,thumbnail:r},t):void 0}))}):(0,v.jsxs)("h3",{className:"h3",id:"noDataFound",children:[(0,v.jsx)(m.$gH,{}),"\xa0",(0,s.ag)("common.noData")]})})})})})})})]})};var g=d.ZP.div(r||(r=(0,a.Z)(['\n  width: 100%;\n  margin: 1rem 0;\n\n  #noDataFound {\n    font-family: "Proxima Nova";\n    font-style: normal;\n    font-weight: 100;\n    font-size: 1.5rem;\n    text-align: center;\n    color: #c7c6c6;\n\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n  }\n'])))},70651:function(n,t,e){e.d(t,{Z:function(){return h}});var r,a=e(30168),i=(e(72791),e(91523)),c=e(86538),o=e(53540),l=e(72426),s=e.n(l),u=e(51851),d=e(80184);function h(n){var t=n._id,e=n.date,r=n.content,a=n.thumbnail,c=n.title,l=n.entite,h=n.type,p=s()(e).format("l");return(0,d.jsxs)(f,{children:[(0,d.jsx)(i.rU,{to:"/"+l+"/"+t,children:(0,d.jsx)("div",{className:"search__description",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"evenement__left",children:a?(0,d.jsx)("img",{className:"lazyload",style:{width:100,height:100},src:a}):(0,d.jsx)("img",{className:"lazyload",style:{width:100,height:100},src:u.T1})}),(0,d.jsxs)("div",{className:"evenement__right",children:[(0,d.jsxs)("div",{className:"date",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{className:"lazyload",src:u.YN}),p]}),h?(0,d.jsx)("div",{className:"cardHeader",children:(0,d.jsx)("span",{className:"categoryBadge",children:h})}):null]}),c?(0,d.jsx)("div",{className:"title",children:c.length>100?(0,o.ZP)(c.substring(0,100)+"..."):(0,o.ZP)(c)}):null,r?(0,d.jsx)("div",{className:"right__footer",children:r.length>100?(0,o.ZP)(r.substring(0,100)+"..."):(0,o.ZP)(r)}):null]})]})})}),(0,d.jsx)("hr",{})]})}var f=c.ZP.div(r||(r=(0,a.Z)(['\n  /* LEFT SECTION */\n  hr {\n    height: 1px;\n    background-color: #2b2840;\n    border: none;\n  }\n  .cardContent {\n    flex-grow: 1;\n    height: 100%;\n    padding-left: 1rem;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    .cardHeader {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      font-size: 12px;\n      font-family: "Proxima Nova";\n\n      .categoryBadge {\n        background: #f8d7da;\n        border-radius: 3px;\n        color: var(--dark--red);\n        padding: 0.4rem 0.5rem;\n        font-size: 12px;\n        font-family: "Proxima Nova";\n      }\n    }\n\n    .title {\n      margin-top: 1.5rem;\n      color: var(--violet);\n\n      span {\n        font-family: "Bebas Neue Pro";\n        font-style: normal;\n        font-weight: 700;\n        font-size: 23px;\n        line-height: 24px;\n      }\n    }\n  }\n  hr {\n    margin-top: 10px;\n    margin-bottom: 5px;\n  }\n'])))},8765:function(n,t,e){var r,a=e(30168),i=(e(72791),e(91523)),c=e(86538),o=e(80184),l=c.ZP.div(r||(r=(0,a.Z)(['\n  margin: 28px 0 10px 0;\n  .breadcrumb {\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    background-color: transparent;\n  }\n  ol {\n    display: flex;\n  }\n  li {\n    font-family: "Proxima Nova";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 25px;\n  }\n  .breadcrump__nav {\n    margin: auto;\n    left: 0;\n    display: flex;\n    max-width: 1170px;\n    flex-direction: column;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n\n  h2 {\n    font-family: "Bebas Neue Pro";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 47px;\n    line-height: 39px;\n  }\n'])));t.Z=function(n){var t=function(n){return n.length>1};return(0,o.jsx)(l,{children:(0,o.jsxs)("div",{className:"breadcrump__nav",children:[(0,o.jsx)("div",{children:(0,o.jsx)("h2",{className:"h2",children:n.title})}),(0,o.jsx)("div",{children:(0,o.jsx)("ol",{className:"breadcrumb",children:n.items.map((function(n,e){return(0,o.jsx)("li",{className:"breadcrumb-item liClass",children:t(n)?(0,o.jsxs)(i.rU,{to:n[1],children:[" ",n[0],"/"===n[1]?(0,o.jsx)(o.Fragment,{children:n[1]}):(0,o.jsx)("div",{style:{display:"none",marginBottom:0},children:n[1]})]}):n[0]},n[0])}))})})]})})}},89983:function(n,t,e){e.d(t,{w_:function(){return s}});var r=e(72791),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(a),c=function(){return c=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n},c.apply(this,arguments)},o=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]])}return e};function l(n){return n&&n.map((function(n,t){return r.createElement(n.tag,c({key:t},n.attr),l(n.child))}))}function s(n){return function(t){return r.createElement(u,c({attr:c({},n.attr)},t),l(n.child))}}function u(n){var t=function(t){var e,a=n.attr,i=n.size,l=n.title,s=o(n,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(e=t.className),n.className&&(e=(e?e+" ":"")+n.className),r.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,s,{className:e,style:c(c({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),n.children)};return void 0!==i?r.createElement(i.Consumer,null,(function(n){return t(n)})):t(a)}}}]);
//# sourceMappingURL=800.cdefe8ae.chunk.js.map