{"version":3,"file":"static/js/9594.f2e0ce92.chunk.js","mappings":"wNAGqBA,EAAAA,WAAAA,SAAAA,KAAAA,EAAAA,EAAAA,GAAAA,KAAAA,EAAAA,CAgDnB,OAhDmBA,EAAAA,EAAAA,GAAAA,EAAAA,KAAAA,CAAAA,CAAAA,IAAAA,oBAAAA,M,yCAEnB,kGACQC,EAAWC,EAAAA,EAAAA,MADnB,SAEyBC,EAAAA,EAAAA,IAAA,kBACVF,EADU,0BAFzB,cAEQG,EAFR,yBAKSA,EAASC,MALlB,6F,IAAA,yGAQA,WACEC,EACAC,GAFF,qFAIQN,EAAWC,EAAAA,EAAAA,MAJnB,SAKyBC,EAAAA,EAAAA,IAAA,kBACVF,EADU,0BACgBK,EADhB,4BACiDC,EADjD,sBALzB,cAKQH,EALR,yBAQSA,EAASC,MARlB,gGARA,I,gFAoBA,WAAuCC,EAAeE,EAAcD,GAApE,6FACQN,EAAWC,EAAAA,EAAAA,MADnB,SAEyBC,EAAAA,EAAAA,IAAA,kBACVF,EADU,iDACuCO,IAHhE,cAEQJ,EAFR,OAKQK,EALR,UAKyCL,EAASC,KAAKK,KAAK,UAL5D,aAKyC,EAAuBC,aACxDC,EAAsB,CAC1BF,KAAI,OAAED,QAAF,IAAEA,EAAAA,EAAkC,GACxCI,MAAK,iBAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAgCK,cAAlC,QAA4C,GARrD,kBAUSF,GAVT,kG,wGAcA,WACEN,EACAS,EACAR,GAHF,qFAKQN,EAAWC,EAAAA,EAAAA,MALnB,SAMyBC,EAAAA,EAAAA,IAAA,kBACVF,EADU,8CACoCK,EADpC,2BACoEC,EADpE,kCACoGQ,IAP7H,cAMQX,EANR,yBASSA,EAASC,MATlB,kG,IAAA,6EAYA,WACEW,EACAC,EACAC,EACAC,EACAC,GALF,uFAOQC,EAAS,CACbL,OAAAA,EACAC,QAAAA,EACAC,MAAAA,EACAC,OAAAA,EACAC,SAAAA,GAEInB,EAAWC,EAAAA,EAAAA,MAdnB,SAeyBC,EAAAA,EAAAA,IAAA,kBACVF,EADU,uBAErB,CACEoB,OAAAA,IAlBN,cAeQjB,EAfR,yBAqBSA,EAASC,MArBlB,sGAZA,MAYA,EAhDmBL,E,+JCGN,SAASsB,EAAT,GAQX,IAPFC,EAOC,EAPDA,IACAC,EAMC,EANDA,KACAC,EAKC,EALDA,QACAC,EAIC,EAJDA,UACAC,EAGC,EAHDA,MACAC,EAEC,EAFDA,OACAC,EACC,EADDA,KAEMC,EAAgBC,IAAOP,GAAMQ,OAAO,KAC1C,OACE,UAACC,EAAD,YACE,SAAC,KAAD,CAAMC,GAAI,IAAMN,EAAS,IAAML,EAA/B,UACE,gBAAKY,UAAU,sBAAf,UACE,4BACE,gBAAKA,UAAU,kBAAf,SACGT,GACC,gBACES,UAAU,WACVC,MAAO,CAAEC,MAAO,IAAKC,OAAQ,KAC7BC,IAAKb,KAGP,gBACES,UAAU,WACVC,MAAO,CAAEC,MAAO,IAAKC,OAAQ,KAC7BC,IAAKC,EAAAA,QAIX,iBAAKL,UAAU,mBAAf,WACE,iBAAKA,UAAU,OAAf,WACE,4BACE,gBACEA,UAAU,WACVI,IAAKE,EAAAA,KAINX,KAEFD,GACC,gBAAKM,UAAU,aAAf,UACE,iBAAMA,UAAU,gBAAhB,SAAiCN,MAEjC,QAELF,GACC,gBAAKQ,UAAU,QAAf,SACGR,EAAMb,OAAS,KACZ4B,EAAAA,EAAAA,IAAMf,EAAMgB,UAAU,EAAG,KAAO,QAChCD,EAAAA,EAAAA,IAAMf,KAEV,KACHF,GACC,gBAAKU,UAAU,gBAAf,SACGV,EAAQX,OAAS,KACd4B,EAAAA,EAAAA,IAAMjB,EAAQkB,UAAU,EAAG,KAAO,QAClCD,EAAAA,EAAAA,IAAMjB,KAEV,gBAKZ,oBAGL,CAED,IAAMQ,EAAaW,EAAAA,GAAAA,IAAH,y+B,2GC1EHC,GAAgBC,EAAAA,EAAAA,eAAmB,M,iGCYjC,SAASC,EAAT,GAA2C,IAAvBC,EAAsB,EAAtBA,mBAEzBC,EAAYC,EAAAA,EAAAA,QAEZC,GAAcC,EAAAA,EAAAA,YAAWP,GAAzBM,UACFE,EAASC,aAAaC,QAAQ,YAoBpC,OACE,0BACE,SAACC,EAAD,WAGkB,IAAdL,GACE,8BACE,SAAC,IAAD,CAAUb,OAAQ,SAGpB,6BACGU,EAAmBnC,MAAQ,GAC1B,8BACE,UAAC,IAAD,CACEsB,UAAU,QACVsB,iBACET,EAAmBtC,KAAKgD,UAAU5C,OAAS,EACvC,IACAkC,EAAmBtC,KAAKiD,gBAAgB7C,OAAS,EACjD,IACAkC,EAAmBtC,KAAKkD,aAAa9C,OAAS,EAC9C,IACA,IAEN+C,SAAU,SAACC,GAAkB,EAX/B,WAaE,SAACb,EAAD,CACEd,UAAU,GACV4B,KAAKC,EAAAA,EAAAA,IAAK,sBAEVC,SAAUjB,EAAmBtC,KAAKgD,UAAU5C,QAAU,EAJxD,UAME,8BACGkC,EAAmBtC,KAAKgD,UAAUQ,KACjC,SAACC,EAAcC,GACS,IAAD,EAqBO,EAqBA,EA1C5B,MAAe,OAAXf,GAEA,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,SACRA,EAAY,SAAZ,QACA,KAENxC,MAAOwC,EAAY,QACnBvC,OAAQ,YAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,KAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,OAAWrD,OAAS,EAC5BqD,EAAY,OAAW,GAAGE,YAC1B7B,EAAAA,IAPD4B,GAWW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,SACRA,EAAY,SAAZ,QACA,KAENxC,MAAOwC,EAAY,QACnBvC,OAAQ,YAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,KAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,SAAarD,OAAS,EAC9BqD,EAAY,SAAa,GAAGE,YAC5B7B,EAAAA,IAPD4B,GAWW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,SACRA,EAAY,SAAZ,QACA,KAENxC,MAAOwC,EAAY,QACnBvC,OAAQ,YAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,KAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,SAAarD,OAAS,EAC9BqD,EAAY,SAAa,GAAGE,YAC5B7B,EAAAA,IAPD4B,QAVJ,CAsBR,OAtED,MA0EN,SAACnB,EAAD,CACEc,KAAKC,EAAAA,EAAAA,IAAK,qBAEVC,SACEjB,EAAmBtC,KAAKiD,gBAAgB7C,QAAU,EAJtD,UAOE,8BACGkC,EAAmBtC,KAAKiD,gBAAgBO,KACvC,SAACC,EAAcC,GACS,IAAD,EAqBO,EAqBA,EA1C5B,MAAe,OAAXf,GAEA,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,SACRA,EAAY,SAAZ,QACA,KAENxC,MAAOwC,EAAY,QACnBvC,OAAQ,SAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,KAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,OAAWrD,OAAS,EAC5BqD,EAAY,OAAW,GAAGE,YAC1B7B,EAAAA,IAPD4B,GAWW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,SACRA,EAAY,SAAZ,QACA,KAENxC,MAAOwC,EAAY,QACnBvC,OAAQ,SAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,KAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,SAAarD,OAAS,EAC9BqD,EAAY,SAAa,GAAGE,YAC5B7B,EAAAA,IAPD4B,GAWW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,SACRA,EAAY,SAAZ,QACA,KAENxC,MAAOwC,EAAY,QACnBvC,OAAQ,SAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,KAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,SAAarD,OAAS,EAC9BqD,EAAY,SAAa,GAAGE,YAC5B7B,EAAAA,IAPD4B,QAVJ,CAsBR,OAxED,MA4EN,SAACnB,EAAD,CACEc,KAAKC,EAAAA,EAAAA,IAAK,kBAEVC,SACEjB,EAAmBtC,KAAKkD,aAAa9C,QAAU,EAJnD,UAOE,8BACGkC,EAAmBtC,KAAKkD,aAAaM,KACpC,SAACC,EAAcC,GACS,IAAD,EAiBO,EAiBA,EAlC5B,MAAe,OAAXf,GAEA,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,UACRA,EAAY,UAAZ,QACA,KAENxC,MAAOwC,EAAY,MACnBvC,OAAQ,YAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,UAClB1C,QAAS0C,EAAY,aACrBzC,UAAWc,EAAAA,IAJN4B,GAOW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,UACRA,EAAY,UAAZ,QACA,KAENxC,MAAOwC,EAAY,MACnBvC,OAAQ,YAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,UAClB1C,QAAS0C,EAAY,aACrBzC,UAAWc,EAAAA,IAJN4B,GAOW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KACEsC,EAAY,UACRA,EAAY,UAAZ,QACA,KAENxC,MAAOwC,EAAY,MACnBvC,OAAQ,YAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,UAClB1C,QAAS0C,EAAY,aACrBzC,UAAWc,EAAAA,IAJN4B,QAVJ,CAkBR,OA5DD,MAgEN,SAACnB,EAAD,CACEc,KAAKC,EAAAA,EAAAA,IAAK,0BAEVC,SACEjB,EAAmBtC,KAAK4D,gBAAgBxD,QAAU,EAJtD,UAOE,8BACGkC,EAAmBtC,KAAK4D,gBAAgBJ,KACvC,SAACC,EAAcC,GACS,IAAD,EAiBO,EAiBA,EAlC5B,MAAe,OAAXf,GAEA,SAAC/B,EAAA,EAAD,CACEO,KAAMsC,EAAY,KAClBxC,MAAOwC,EAAY,QACnBvC,OAAQ,qBAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,UAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,OAAWrD,OAAS,EAC5BqD,EAAY,OAAW,GAAGE,YAC1B7B,EAAAA,IAPD4B,GAWW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KAAMsC,EAAY,KAClBxC,MAAOwC,EAAY,QACnBvC,OAAQ,qBAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,UAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,SAAarD,OAAS,EAC9BqD,EAAY,SAAa,GAAGE,YAC5B7B,EAAAA,IAPD4B,GAWW,OAAXf,GAEP,SAAC/B,EAAA,EAAD,CACEO,KAAMsC,EAAY,KAClBxC,MAAOwC,EAAY,QACnBvC,OAAQ,qBAERL,IAAG,UAAE4C,EAAY,WAAd,QAAyB,EAC5B3C,KAAM2C,EAAY,UAClB1C,QAAS0C,EAAY,cACrBzC,UACEyC,EAAY,SAAarD,OAAS,EAC9BqD,EAAY,SAAa,GAAGE,YAC5B7B,EAAAA,IAPD4B,QANJ,CAkBR,OA5DD,WAuEV,SAACG,EAAA,EAAD,SAQf,CAED,I,EAAMf,EAAgBZ,EAAAA,GAAAA,IAAH,sW,SCrWJ,SAAS4B,EAAT,GAAsC,IAAbC,EAAY,EAAZA,SAEtC,GACErB,EAAAA,EAAAA,YAAWP,GADL6B,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,IAAKC,EAA3B,EAA2BA,OAAsBC,GAAjD,EAAmCC,aAAnC,EAAiDD,sBAejDE,EAAAA,EAAAA,YAAU,WAZiB,IAACzE,IAaPmE,EAASO,mBAZ5BN,GAAa,GACb1E,EAAAA,EAAAA,mDACEM,EACA,GACA2E,MAAK,SAACC,GACNL,EAAoB,GACpBD,EAAOM,GACPR,GAAa,EACd,GAKF,GAAE,IAKH,OAHIC,EAAI7D,QAAU,GACZ6D,EAAI,GAAGjE,KAAKI,QAAU,GAAwB6D,EAAI,GAAGjE,MAGzD,SAACyE,EAAD,WACE,SAACpC,EAAD,CAAUC,mBAAoB2B,KAGnC,CAED,I,EAAMQ,EAAYvC,EAAAA,GAAAA,IAAH,6CClCA,SAASwC,EAAT,GAA+B,IAAbX,EAAY,EAAZA,SAE/B,GAAkCY,EAAAA,EAAAA,WAAS,GAA3C,eAAOlC,EAAP,KAAkBuB,EAAlB,KACA,GAAwCW,EAAAA,EAAAA,UAASZ,EAASO,oBAA1D,eAAOF,EAAP,KAAqBQ,EAArB,KACA,GAAsBD,EAAAA,EAAAA,UAAS,IAA/B,eAAOV,EAAP,KAAYC,EAAZ,KACA,GAAkDS,EAAAA,EAAAA,UAAS,SAA3D,eAAOE,EAAP,KAA0BC,EAA1B,KAEA,GAAgDH,EAAAA,EAAAA,UAAS,GAAzD,eAAOI,EAAP,KAAyBZ,EAAzB,KACA,GAAwDQ,EAAAA,EAAAA,UAAS,GAAjE,eAAOK,EAAP,KAA6BC,EAA7B,KAEA,OACE,SAAC9C,EAAc+C,SAAf,CACEC,MAAO,CACL1C,UAAAA,EACAuB,aAAAA,EACAC,IAAAA,EACAC,OAAAA,EACAE,aAAAA,EACAQ,gBAAAA,EACAC,kBAAAA,EACAC,qBAAAA,EACAC,iBAAAA,EACAZ,oBAAAA,EACAa,qBAAAA,EACAC,wBAAAA,GAbJ,UAgBE,SAACG,EAAD,WACE,oBAAS3D,UAAU,cAAnB,UACE,SAACqC,EAAD,CAAeC,SAAUA,SAKlC,CAED,IAAMqB,EAAelD,EAAAA,GAAAA,QAAH,4M,iFCtBlB,IAjBA,SAAemD,GACb,IAAQxD,EAA0CwD,EAA1CxD,IAAKF,EAAqC0D,EAArC1D,MAAOC,EAA8ByD,EAA9BzD,OAAQ0D,EAAsBD,EAAtBC,IAAKC,EAAiBF,EAAjBE,QAASnC,EAAQiC,EAARjC,IACtCoC,EAAO3D,GAAYC,EAAAA,GAEvB,OACE,SAAC,EAAA2D,cAAD,CACEH,IAAKA,EACL1D,OAAQA,EACRC,IAAK2D,EACL7D,MAAOA,EAEP+D,OAAO,OACPH,QAASA,GAFJnC,EAKV,C,2GCCD,IAfA,WACE,OACE,SAACuC,EAAD,WACE,gBAAKlE,UAAU,aAAf,UACE,iBAAKA,UAAU,QAAf,WACE,SAAC,IAAD,CAAOI,IAAK+D,EAAAA,GAAgBhE,OAAQ,IAAKD,MAAO,OAChD,gBAAIF,UAAU,KAAKoE,GAAG,cAAtB,kBACSvC,EAAAA,EAAAA,IAAK,0BAMvB,EAID,IAAMqC,EAAMzD,EAAAA,GAAAA,IAAH,kT","sources":["modules/Search/SearchService.tsx","view/Search/SRPCard.tsx","view/Search/SearchContext.tsx","view/Search/SRP/SRPTable.tsx","view/Search/SRP/SearchResults.tsx","view/Search/Search.tsx","view/shared/Image.tsx","view/shared/Nodatafound/Empty.tsx"],"sourcesContent":["import authAxios from \"src/modules/shared/axios/authAxios\";\nimport AuthCurrentTenant from \"src/modules/auth/authCurrentTenant\";\n\nexport default class SearchService {\n  // GET CATEGORIES LIST FOR PUBLICATIONS\n  static async getCategoriesList() {\n    const tenantId = AuthCurrentTenant.get();\n    const response = await authAxios.get(\n      `/tenant/${tenantId}/category-publication`\n    );\n    return response.data;\n  }\n\n  static async getSearchResultsForPublicationsBasedOnSearchString(\n    SEARCH_STRING,\n    OFFSET\n  ) {\n    const tenantId = AuthCurrentTenant.get();\n    const response = await authAxios.get(\n      `/tenant/${tenantId}/search?filter=${SEARCH_STRING}&limit=10&offset=${OFFSET}&validated={true}`\n    );\n    return response.data;\n  }\n\n  // SAERCH BASED ON CATEGORIES (REVERSE LOGIC)\n  static async searchUsingMainCatefories(SEARCH_STRING, categoryName, OFFSET) {\n    const tenantId = AuthCurrentTenant.get();\n    const response = await authAxios.get(\n      `/tenant/${tenantId}/category-publication?filter[titleFR]=${categoryName}`\n    );\n    const publicationsOfSelectedCategory = response.data.rows[0]?.publications;\n    const finalResponseOBject = {\n      rows: publicationsOfSelectedCategory ?? [],\n      count: publicationsOfSelectedCategory?.length ?? 0,\n    };\n    return finalResponseOBject;\n  }\n\n  // ARCHIVE SEARCH\n  static async getSearchResultsForArchiveBasedOnSearchString(\n    SEARCH_STRING,\n    FILTER_STRING,\n    OFFSET\n  ) {\n    const tenantId = AuthCurrentTenant.get();\n    const response = await authAxios.get(\n      `/tenant/${tenantId}/publication?filter[descriptionFR]=${SEARCH_STRING}&limit=5&offset=${OFFSET}&filter[statut]=archive${FILTER_STRING}`\n    );\n    return response.data;\n  }\n\n  static async getArchivePublications(\n    filter,\n    orderBy,\n    limit,\n    offset,\n    advanced\n  ) {\n    const params = {\n      filter,\n      orderBy,\n      limit,\n      offset,\n      advanced,\n    };\n    const tenantId = AuthCurrentTenant.get();\n    const response = await authAxios.get(\n      `/tenant/${tenantId}/publication/search`,\n      {\n        params,\n      }\n    );\n    return response.data;\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport parse from \"html-react-parser\";\nimport moment from \"moment\";\nimport { calendar, noData, noImage } from \"src/assets/images\";\nexport default function SRPCard({\n  _id,\n  date,\n  content,\n  thumbnail,\n  title,\n  entite,\n  type,\n}) {\n  const formattedDate = moment(date).format(\"l\");\n  return (\n    <CardLayout>\n      <Link to={\"/\" + entite + \"/\" + _id}>\n        <div className=\"search__description\">\n          <div>\n            <div className=\"evenement__left\">\n              {thumbnail ? (\n                <img\n                  className=\"lazyload\"\n                  style={{ width: 100, height: 100 }}\n                  src={thumbnail}\n                />\n              ) : (\n                <img\n                  className=\"lazyload\"\n                  style={{ width: 100, height: 100 }}\n                  src={noImage}\n                />\n              )}\n            </div>\n            <div className=\"evenement__right\">\n              <div className=\"date\">\n                <div>\n                  <img\n                    className=\"lazyload\"\n                    src={calendar}\n                    // alt={noImage}\n                    // srcSet={noImage}\n                  />\n                  {formattedDate}\n                </div>\n                {type ? (\n                  <div className=\"cardHeader\">\n                    <span className=\"categoryBadge\">{type}</span>\n                  </div>\n                ) : null}\n              </div>\n              {title ? (\n                <div className=\"title\">\n                  {title.length > 100\n                    ? parse(title.substring(0, 100) + \"...\")\n                    : parse(title)}\n                </div>\n              ) : null}\n              {content ? (\n                <div className=\"right__footer\">\n                  {content.length > 100\n                    ? parse(content.substring(0, 100) + \"...\")\n                    : parse(content)}\n                </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </Link>\n      <hr></hr>\n    </CardLayout>\n  );\n}\n\nconst CardLayout = styled.div`\n  /* LEFT SECTION */\n  hr {\n    height: 1px;\n    background-color: #2b2840;\n    border: none;\n  }\n  .cardContent {\n    flex-grow: 1;\n    height: 100%;\n    padding-left: 1rem;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    .cardHeader {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      font-size: 12px;\n      font-family: \"Proxima Nova\";\n\n      .categoryBadge {\n        background: #f8d7da;\n        border-radius: 3px;\n        color: var(--dark--red);\n        padding: 0.4rem 0.5rem;\n        font-size: 12px;\n        font-family: \"Proxima Nova\";\n      }\n    }\n\n    .title {\n      margin-top: 1.5rem;\n      color: var(--violet);\n\n      span {\n        font-family: \"Bebas Neue Pro\";\n        font-style: normal;\n        font-weight: 700;\n        font-size: 23px;\n        line-height: 24px;\n      }\n    }\n  }\n  hr {\n    margin-top: 10px;\n    margin-bottom: 5px;\n  }\n`;\n","import { createContext } from \"react\";\n\nexport const SearchContext = createContext<any>(null);\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { SearchContext } from \"../SearchContext\";\n// COMPONENTS\nimport SRPCard from \"../SRPCard\";\n// ICONS\nimport { BsBox } from \"react-icons/bs\";\nimport { i18n } from \"src/i18n\";\nimport { Tabs } from \"antd\";\nimport { baseUrl } from \"../../shared/BaseUrl\";\nimport { noImage } from \"src/assets/images\";\nimport Empty from \"src/view/shared/Nodatafound/Empty\";\n\nexport default function SRPTable({ currentPostsToShow }) {\n  // GLOBAL STATE\n  const { TabPane } = Tabs;\n\n  const { isLoading } = useContext(SearchContext);\n  const langue = localStorage.getItem(\"language\");\n  // HELPER FUNCTION\n  // const getValidThumbnail = (attachmentsArray) => {\n  //   const acceptableExtions = \"png, jpg, jpeg, gif\";\n  //   let fakeUrl = \"https://via.placeholder.com/270x175\";\n  //   attachmentsArray.forEach((att) => {\n  //     if (att.downloadUrl)\n  //       if (att.downloadUrl.length >= 1) {\n  //         const urlExtension = att.downloadUrl.substring(\n  //           att.downloadUrl.lastIndexOf(\".\") + 1,\n  //           att.downloadUrl.length\n  //         );\n  //         if (acceptableExtions.includes(urlExtension)) {\n  //           fakeUrl = att.downloadUrl;\n  //         }\n  //       }\n  //   });\n  //   return fakeUrl;\n  // };\n\n  return (\n    <div>\n      <SRPDataLayout>\n        {\n          // ONCE LOADING IS DONE\n          isLoading === true ? (\n            <section>\n              <Skeleton height={170} />\n            </section>\n          ) : (\n            <section>\n              {currentPostsToShow.count > 0 ? (\n                <section>\n                  <Tabs\n                    className=\"links\"\n                    defaultActiveKey={\n                      currentPostsToShow.rows.rowsEvent.length > 0\n                        ? \"0\"\n                        : currentPostsToShow.rows.rowsPublication.length > 0\n                        ? \"1\"\n                        : currentPostsToShow.rows.rowsGlosaire.length > 0\n                        ? \"2\"\n                        : \"3\"\n                    }\n                    onChange={(key: string) => {}}\n                  >\n                    <TabPane\n                      className=\"\"\n                      tab={i18n(\"menu.Evènements\")}\n                      key=\"0\"\n                      disabled={currentPostsToShow.rows.rowsEvent.length <= 0}\n                    >\n                      <>\n                        {currentPostsToShow.rows.rowsEvent.map(\n                          (searchResult, index) => {\n                            if (langue === \"fr\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"category\"]\n                                      ? searchResult[\"category\"][\"titleFR\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"titleFR\"]}\n                                  entite={\"evenement\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"date\"]}\n                                  content={searchResult[\"descriptionFR\"]}\n                                  thumbnail={\n                                    searchResult[\"photos\"].length > 0\n                                      ? searchResult[\"photos\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            } else if (langue === \"ar\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"category\"]\n                                      ? searchResult[\"category\"][\"titleAR\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"titleAR\"]}\n                                  entite={\"evenement\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"date\"]}\n                                  content={searchResult[\"descriptionAR\"]}\n                                  thumbnail={\n                                    searchResult[\"photosAR\"].length > 0\n                                      ? searchResult[\"photosAR\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            } else if (langue === \"en\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"category\"]\n                                      ? searchResult[\"category\"][\"titleEN\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"titleEN\"]}\n                                  entite={\"evenement\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"date\"]}\n                                  content={searchResult[\"descriptionEN\"]}\n                                  thumbnail={\n                                    searchResult[\"photosEN\"].length > 0\n                                      ? searchResult[\"photosEN\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            }\n                          }\n                        )}\n                      </>\n                    </TabPane>\n                    <TabPane\n                      tab={i18n(\"menu.Publications\")}\n                      key=\"1\"\n                      disabled={\n                        currentPostsToShow.rows.rowsPublication.length <= 0\n                      }\n                    >\n                      <>\n                        {currentPostsToShow.rows.rowsPublication.map(\n                          (searchResult, index) => {\n                            if (langue === \"fr\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"category\"]\n                                      ? searchResult[\"category\"][\"titleFR\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"titleFR\"]}\n                                  entite={\"detail\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"date\"]}\n                                  content={searchResult[\"descriptionFR\"]}\n                                  thumbnail={\n                                    searchResult[\"photos\"].length > 0\n                                      ? searchResult[\"photos\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            } else if (langue === \"ar\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"category\"]\n                                      ? searchResult[\"category\"][\"titleAR\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"titleAR\"]}\n                                  entite={\"detail\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"date\"]}\n                                  content={searchResult[\"descriptionAR\"]}\n                                  thumbnail={\n                                    searchResult[\"photosAR\"].length > 0\n                                      ? searchResult[\"photosAR\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            } else if (langue === \"en\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"category\"]\n                                      ? searchResult[\"category\"][\"titleEN\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"titleEN\"]}\n                                  entite={\"detail\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"date\"]}\n                                  content={searchResult[\"descriptionEN\"]}\n                                  thumbnail={\n                                    searchResult[\"photosEN\"].length > 0\n                                      ? searchResult[\"photosEN\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            }\n                          }\n                        )}\n                      </>\n                    </TabPane>\n                    <TabPane\n                      tab={i18n(\"menu.Glossaire\")}\n                      key=\"2\"\n                      disabled={\n                        currentPostsToShow.rows.rowsGlosaire.length <= 0\n                      }\n                    >\n                      <>\n                        {currentPostsToShow.rows.rowsGlosaire.map(\n                          (searchResult, index) => {\n                            if (langue === \"fr\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"categorie\"]\n                                      ? searchResult[\"categorie\"][\"titleFR\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"nomFR\"]}\n                                  entite={\"Glossaire\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"updatedAt\"]}\n                                  content={searchResult[\"definitionFR\"]}\n                                  thumbnail={noImage}\n                                />\n                              );\n                            } else if (langue === \"ar\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"categorie\"]\n                                      ? searchResult[\"categorie\"][\"titleAR\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"nomAR\"]}\n                                  entite={\"Glossaire\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"updatedAt\"]}\n                                  content={searchResult[\"definitionAR\"]}\n                                  thumbnail={noImage}\n                                />\n                              );\n                            } else if (langue === \"en\") {\n                              return (\n                                <SRPCard\n                                  type={\n                                    searchResult[\"categorie\"]\n                                      ? searchResult[\"categorie\"][\"titleEN\"]\n                                      : null\n                                  }\n                                  title={searchResult[\"nomEN\"]}\n                                  entite={\"Glossaire\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"updatedAt\"]}\n                                  content={searchResult[\"definitionEN\"]}\n                                  thumbnail={noImage}\n                                />\n                              );\n                            }\n                          }\n                        )}\n                      </>\n                    </TabPane>\n                    <TabPane\n                      tab={i18n(\"menu.Médiathèque\")}\n                      key=\"3\"\n                      disabled={\n                        currentPostsToShow.rows.rowsMediatheque.length <= 0\n                      }\n                    >\n                      <>\n                        {currentPostsToShow.rows.rowsMediatheque.map(\n                          (searchResult, index) => {\n                            if (langue === \"fr\") {\n                              return (\n                                <SRPCard\n                                  type={searchResult[\"type\"]}\n                                  title={searchResult[\"titleFR\"]}\n                                  entite={\"Mediatheque/entity\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"updatedAt\"]}\n                                  content={searchResult[\"descriptionFR\"]}\n                                  thumbnail={\n                                    searchResult[\"photos\"].length > 0\n                                      ? searchResult[\"photos\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            } else if (langue === \"ar\") {\n                              return (\n                                <SRPCard\n                                  type={searchResult[\"type\"]}\n                                  title={searchResult[\"titleAR\"]}\n                                  entite={\"Mediatheque/entity\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"updatedAt\"]}\n                                  content={searchResult[\"descriptionAR\"]}\n                                  thumbnail={\n                                    searchResult[\"photosAR\"].length > 0\n                                      ? searchResult[\"photosAR\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            } else if (langue === \"en\") {\n                              return (\n                                <SRPCard\n                                  type={searchResult[\"type\"]}\n                                  title={searchResult[\"titleEN\"]}\n                                  entite={\"Mediatheque/entity\"}\n                                  key={index}\n                                  _id={searchResult[\"_id\"] ?? 0}\n                                  date={searchResult[\"updatedAt\"]}\n                                  content={searchResult[\"descriptionEN\"]}\n                                  thumbnail={\n                                    searchResult[\"photosEN\"].length > 0\n                                      ? searchResult[\"photosEN\"][0].downloadUrl\n                                      : noImage\n                                  }\n                                />\n                              );\n                            }\n                          }\n                        )}\n                      </>\n                    </TabPane>\n                  </Tabs>\n                </section>\n              ) : (\n                // <h3 className=\"h3\" id=\"noDataFound\">\n                //   <BsBox />\n                //   &nbsp;{i18n(\"common.noData\")}\n                // </h3>\n                <Empty />\n              )}\n            </section>\n          )\n        }\n      </SRPDataLayout>\n    </div>\n  );\n}\n\nconst SRPDataLayout = styled.div`\n  width: 100%;\n  margin: 1rem 0;\n\n  #noDataFound {\n    font-family: \"Proxima Nova\";\n    font-style: normal;\n    font-weight: 100;\n    font-size: 1.5rem;\n    text-align: center;\n    color: #c7c6c6;\n\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n  }\n`;\n","import React, { useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport SearchService from \"src/modules/Search/SearchService\";\nimport { SearchContext } from \"../SearchContext\";\n\n// COMPONENTS\nimport SRPTable from \"./SRPTable\";\nimport SRPFooter from \"./SRPFooter\";\nimport \"react-loading-skeleton/dist/skeleton.css\";\nimport { i18n } from \"src/i18n\";\nimport Breadcrumb from \"src/view/shared/Breadcrumb\";\n\nexport default function SearchResults({ location }) {\n  // GLOBAL STATE\n  const { setIsLoading, SRP, setSRP, searchString, setcurrentPageIndex } =\n    useContext(SearchContext);\n\n  const searchPublications = (SEARCH_STRING: string) => {\n    setIsLoading(true);\n    SearchService.getSearchResultsForPublicationsBasedOnSearchString(\n      SEARCH_STRING,\n      0\n    ).then((res) => {\n      setcurrentPageIndex(0);\n      setSRP(res);\n      setIsLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    searchPublications(location.HOME_SEARCH_STRING);\n  }, []);\n  let currentPostsToShow: any[] = [];\n  if (SRP.length >= 1)\n    if (SRP[0].rows.length >= 1) currentPostsToShow = SRP[0].rows;\n\n  return (\n    <SRPLayout>\n      <SRPTable currentPostsToShow={SRP} />\n    </SRPLayout>\n  );\n}\n\nconst SRPLayout = styled.div`\n  margin-top: 1rem;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { SearchContext } from \"./SearchContext\";\nimport styled from \"styled-components\";\n\n// COMPONENTS\n\nimport SearchResults from \"./SRP/SearchResults\";\n// OTHER\n\nexport default function Search({ location }) {\n  // GLOBAL STATE\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchString, setSearchString] = useState(location.HOME_SEARCH_STRING);\n  const [SRP, setSRP] = useState([]);\n  const [publicationFilter, setpublicationFilter] = useState(\"autre\");\n  // PAGINATION LOGIC\n  const [currentPageIndex, setcurrentPageIndex] = useState(0);\n  const [numberOfPostsPerPage, setnumberOfPostsPerPage] = useState(5);\n\n  return (\n    <SearchContext.Provider\n      value={{\n        isLoading,\n        setIsLoading,\n        SRP,\n        setSRP,\n        searchString,\n        setSearchString,\n        publicationFilter,\n        setpublicationFilter,\n        currentPageIndex,\n        setcurrentPageIndex,\n        numberOfPostsPerPage,\n        setnumberOfPostsPerPage,\n      }}\n    >\n      <SearchLayout>\n        <section className=\"wideContent\">\n          <SearchResults location={location} />\n        </section>\n      </SearchLayout>\n    </SearchContext.Provider>\n  );\n}\n\nconst SearchLayout = styled.section`\n  max-width: 1170px;\n  margin: auto;\n\n  @media (max-width: 1071px) {\n    margin: 150px 0 0 0;\n  }\n  .wideContent {\n    display: flex;\n    justify-content: flex-start;\n  }\n`;\n","import React from \"react\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\nimport PropTypes from \"prop-types\";\nimport { noImage } from \"src/assets/images\";\n\nfunction Image(props) {\n  const { src, width, height, alt, caption, key } = props;\n  let srcs = src ? src : noImage;\n\n  return (\n    <LazyLoadImage\n      alt={alt}\n      height={height}\n      src={srcs} // use normal <img> attributes as props\n      width={width}\n      key={key}\n      effect=\"blur\"\n      caption={caption}\n    />\n  );\n}\n\nexport default Image;\n","import React from \"react\";\nimport { BsBox } from \"react-icons/bs\";\nimport styled from \"styled-components\";\nimport Image from \"../Image\";\nimport { notfoundsearch } from \"../../../assets/images\";\nimport { i18n } from \"../../../i18n\";\n\nfunction Empty() {\n  return (\n    <Not>\n      <div className=\"app__empty\">\n        <div className=\"empty\">\n          <Image src={notfoundsearch} height={100} width={100} />\n          <h4 className=\"h4\" id=\"noDataFound\">\n            &nbsp;{i18n(\"common.noData\")}\n          </h4>\n        </div>\n      </div>\n    </Not>\n  );\n}\n\nexport default Empty;\n\nconst Not = styled.div`\n  .app__empty {\n    width: 100%;\n    height: 100%;\n    max-width: 1170px;\n    margin: auto;\n  }\n\n  .empty {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    row-gap: 1rem;\n    justify-content: center;\n    width: 100%;\n    height: 60vh;\n  }\n`;\n"],"names":["SearchService","tenantId","AuthCurrentTenant","authAxios","response","data","SEARCH_STRING","OFFSET","categoryName","publicationsOfSelectedCategory","rows","publications","finalResponseOBject","count","length","FILTER_STRING","filter","orderBy","limit","offset","advanced","params","SRPCard","_id","date","content","thumbnail","title","entite","type","formattedDate","moment","format","CardLayout","to","className","style","width","height","src","noImage","calendar","parse","substring","styled","SearchContext","createContext","SRPTable","currentPostsToShow","TabPane","Tabs","isLoading","useContext","langue","localStorage","getItem","SRPDataLayout","defaultActiveKey","rowsEvent","rowsPublication","rowsGlosaire","onChange","key","tab","i18n","disabled","map","searchResult","index","downloadUrl","rowsMediatheque","Empty","SearchResults","location","setIsLoading","SRP","setSRP","setcurrentPageIndex","searchString","useEffect","HOME_SEARCH_STRING","then","res","SRPLayout","Search","useState","setSearchString","publicationFilter","setpublicationFilter","currentPageIndex","numberOfPostsPerPage","setnumberOfPostsPerPage","Provider","value","SearchLayout","props","alt","caption","srcs","LazyLoadImage","effect","Not","notfoundsearch","id"],"sourceRoot":""}