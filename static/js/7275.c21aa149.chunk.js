"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[7275],{24168:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var i,a=t(30168),r=t(29439),o=t(72791),s=t(79271),d=t(86538),l=t(90136),c=t(39126),h=t(4726),m=t(93127),p=t(80184);function u(n){var e=n.PUBLICATION_TITLE,t=n.PUBLICATION_CREATED_AT,i=n.PUBLICATION_TYPE;return(0,p.jsxs)(v,{children:[(0,p.jsx)("span",{className:"categoryBadge",children:h.Z.Trans("title",i)}),(0,p.jsx)("h1",{children:h.Z.Trans("title",e)}),(0,p.jsxs)("div",{className:"data",children:[(0,p.jsx)("div",{className:"dateAndOwner",children:(0,p.jsxs)("span",{children:["Publi\xe9 le ",l.Z.pipeDate(t)]})}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:"socials",children:[(0,p.jsx)("span",{children:"Partager :"}),(0,p.jsx)("button",{children:(0,p.jsx)(m.Z,{})}),(0,p.jsx)("button",{children:(0,p.jsx)(c.meP,{})}),(0,p.jsx)("button",{children:(0,p.jsx)(c.Vs6,{})}),(0,p.jsx)("button",{children:(0,p.jsx)(c.NQh,{})})]})]})]})}var x,f,g,v=d.ZP.section(i||(i=(0,a.Z)(['\n  font-family: "Proxima Nova";\n  font-style: normal;\n\n  .categoryBadge {\n    background: #f8d7da;\n    border-radius: 3px;\n    color: var(--dark--red);\n    padding: 0.4rem 0.5rem;\n    font-size: 12px;\n    font-family: "Proxima Nova";\n  }\n\n  h1 {\n    margin: 1rem 0;\n    font-size: 40px;\n    line-height: 43px;\n    text-transform: uppercase;\n    color: var(--violet);\n  }\n\n  .socials {\n    margin-top: 1rem;\n    width: 250px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    button {\n      background-color: transparent;\n      border-radius: 50%;\n      color: var(--violet);\n      font-size: 1.8rem;\n    }\n  }\n\n  @media (max-width: 767px) {\n    width: 100%;\n    padding: 0 0.5rem;\n  }\n']))),j=t(24112),y=t(1648);function w(n){var e,t,i,a=n.PUBLICATION,r=n.data;return(0,p.jsxs)(b,{children:[(null===(e=a.videos)||void 0===e?void 0:e.length)>0&&(0,p.jsx)(T,{children:a.videos.map((function(n){return(0,p.jsx)(j.Z,{url:n.downloadUrl,loop:!0,controls:!0,className:"video__player"},n._id)}))}),(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:h.Z.Trans("description",a)}}),((null===(t=a.photos)||void 0===t?void 0:t.length)>0||(null===(i=a.supports)||void 0===i?void 0:i.length)>0)&&(0,p.jsx)(Z,{children:(0,p.jsx)("section",{className:"gridSection",children:(0,p.jsx)(y.Z,{images:r,maxWidth:"100%"},0)})})]})}var N,b=d.ZP.section(x||(x=(0,a.Z)(['\n  margin: 2rem 0;\n  p {\n    text-align: justify;\n    color: var(--gray2);\n    font-family: "Proxima Nova";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 25px;\n  }\n\n  @media (max-width: 767px) {\n    width: 100%;\n    padding: 0 0.5rem;\n  }\n']))),T=d.ZP.section(f||(f=(0,a.Z)(["\n  margin: 3rem 0;\n  audio {\n    height: 70px !important;\n  }\n\n  @media (max-width: 767px) {\n    video {\n      width: 90% !important;\n    }\n  }\n"]))),Z=d.ZP.section(g||(g=(0,a.Z)(['\n  margin-top: 1rem;\n\n  .gridSection {\n    width: 100%;\n    display: block;\n    &:before {\n      content: "( Double click to open a photo )";\n      display: block;\n      font-family: "Proxima Nova";\n      font-style: normal;\n      font-size: 1rem;\n      margin-bottom: 1rem;\n    }\n  }\n\n  img {\n    width: 100%;\n  }\n']))),P=t(91523);function I(n){var e=n.title;return(0,p.jsx)(A,{children:(0,p.jsx)("header",{children:(0,p.jsx)("span",{children:e})})})}var _,k,A=d.ZP.div(N||(N=(0,a.Z)(["\n    header{\n        width: 100%;\n        margin-bottom: 1rem;\n\n        span{\n            font-size: 2.5rem;\n            text-transform: uppercase;\n            font-family: 'Bebas Neue Pro';\n            line-height: .5;\n            padding: 0;\n\n            display: flex;\n            flex-direction: row;\n            align-items: flex-end;\n            justify-content: space-between;\n\n            &:after{\n                content: '';\n                display: inline-block;\n                height: 1px;\n                flex-grow: 1;\n                background-color: red;\n            }\n        }\n    }\n\n"]))),C=t(25930);function L(n){var e=n.type,t=(0,o.useState)([]),i=(0,r.Z)(t,2),a=i[0],s=i[1],d=(0,o.useState)(!0),c=(0,r.Z)(d,2),m=c[0],u=c[1];return(0,o.useEffect)((function(){!function(n){l.Z.getRelated(n).then((function(n){var e;null===(e=n.rows)||void 0===e||e.map((function(n){s((function(e){return e.concat(n)}))})),u(!1)}))}(e)}),[e]),(0,p.jsxs)(E,{children:[(0,p.jsx)(I,{title:"publications qui peuvent vous int\xe9resser"}),m?(0,p.jsx)("section",{children:(0,p.jsx)("h4",{children:(0,C.ag)("table.loadingContent")})}):(0,p.jsx)("div",{className:"gridLayout",children:null===a||void 0===a?void 0:a.map((function(n){return(0,p.jsxs)(U,{children:[n.photos.length>0?(0,p.jsx)("img",{src:n.photos[0].downloadUrl,alt:""}):(0,p.jsx)("div",{className:"cardImage cardThumbnail hasNoThumbnail"}),(0,p.jsxs)("div",{className:"cardContent",children:[(0,p.jsxs)("div",{className:"cardHeader",children:[(0,p.jsx)("span",{className:"categoryBadge",children:n.type}),(0,p.jsx)("span",{children:l.Z.pipeDate(n.date)})]}),(0,p.jsx)(P.rU,{to:"/Mediatheque/entity/"+n._id,className:"title text__wrap",style:{maxWidth:370},children:(0,p.jsx)("span",{children:h.Z.Trans("title",n)})})]})]},n._id)}))})]})}var B,E=d.ZP.section(_||(_=(0,a.Z)(["\n  margin: 5rem 0;\n  width: 100%;\n\n  .gridLayout {\n    margin-top: 2rem;\n    width: 100%;\n    display: grid;\n    grid-gap: 1rem;\n    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));\n  }\n\n  @media (max-width: 767px) {\n    width: 100%;\n    padding: 0 0.5rem;\n  }\n"]))),U=d.ZP.div(k||(k=(0,a.Z)(['\n  height: 200px;\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  /* LEFT SECTION */\n  .cardThumbnail {\n    width: 100%;\n    height: 200px;\n    background-size: cover;\n    background-position: center;\n    position: relative;\n  }\n  .hasNoThumbnail {\n    background-image: url("https://imgur.com/N1ZiTM4.jpeg");\n  }\n  .cardImage {\n    width: 200px;\n    min-width: 200px !important;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  /* LEFT SECTION */\n  .cardContent {\n    flex-grow: 1;\n    height: 100%;\n    padding-left: 1rem;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    .cardHeader {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      font-size: 12px;\n      font-family: "Proxima Nova";\n\n      .categoryBadge {\n        background: #f8d7da;\n        border-radius: 3px;\n        color: var(--dark--red);\n        padding: 0.4rem 0.5rem;\n        font-size: 12px;\n        font-family: "Proxima Nova";\n      }\n    }\n\n    .title {\n      margin-top: 1.5rem;\n      color: var(--violet);\n\n      span {\n        font-family: "Bebas Neue Pro";\n        font-style: normal;\n        font-weight: 700;\n        font-size: 23px;\n        line-height: 24px;\n      }\n    }\n  }\n'])));function O(){var n,e,t,i=(0,s.UO)().id,a=(0,o.useState)({}),d=(0,r.Z)(a,2),c=d[0],h=d[1],m=(0,o.useState)([]),x=(0,r.Z)(m,2),f=x[0],g=x[1];return(0,o.useEffect)((function(){var n;n=i,l.Z.find(n).then((function(n){h(n),n.photos.length>=1&&n.photos.map((function(n){g((function(e){return e.concat(n.downloadUrl)}))})),n.supports.length>=1&&n.supports.map((function(n){g((function(e){return e.concat(n.downloadUrl)}))}))})).catch((function(n){console.error(n)}))}),[]),(0,p.jsxs)(z,{children:[(0,p.jsx)(u,{PUBLICATION_TITLE:null!==c&&void 0!==c?c:"N.A",PUBLICATION_CREATED_AT:null!==(n=c.date)&&void 0!==n?n:"N.A",PUBLICATION_TYPE:null!==(e=c.thematique)&&void 0!==e?e:"N.A"}),(0,p.jsx)(w,{PUBLICATION:c,data:f}),(0,p.jsx)(L,{type:null!==(t=c.type)&&void 0!==t?t:"N.A"})]})}var z=d.ZP.section(B||(B=(0,a.Z)(["\n  width: 1170px;\n  height: 100%;\n  margin: 1rem auto;\n"])))}}]);
//# sourceMappingURL=7275.c21aa149.chunk.js.map