{"version":3,"file":"static/js/1275.3f7c9987.chunk.js","mappings":"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","sources":["modules/shared/fileupload/fileUploader.tsx","modules/shared/yup/yupFormSchemas.tsx","view/shared/ButtonIcon.tsx","view/shared/Retour.tsx","view/shared/Spinner.tsx","view/shared/form/formErrors.tsx","view/shared/form/items/InputFormItem.tsx","view/shared/styles/FormWrapper.tsx"],"sourcesContent":["import filesize from \"filesize\";\nimport { i18n } from \"src/i18n\";\nimport authAxios from \"src/modules/shared/axios/authAxios\";\nimport { v4 as uuid } from \"uuid\";\nimport AuthCurrentTenant from \"src/modules/auth/authCurrentTenant\";\nimport axios from \"axios\";\n\nexport default class FileUploader {\n  static validate(file, config) {\n    if (!config) {\n      return;\n    }\n\n    if (config.image) {\n      if (!file.type.startsWith(\"image\")) {\n        throw new Error(i18n(\"fileUploader.image\"));\n      }\n    }\n\n    if (\n      config.storage.maxSizeInBytes &&\n      file.size > config.storage.maxSizeInBytes\n    ) {\n      throw new Error(\n        i18n(\"fileUploader.size\", filesize(config.storage.maxSizeInBytes))\n      );\n    }\n\n    const extension = extractExtensionFrom(file.name);\n\n    if (config.formats && !config.formats.includes(extension)) {\n      throw new Error(i18n(\"fileUploader.formats\", config.formats.join(\", \")));\n    }\n  }\n\n  static async upload(file, config) {\n    try {\n      this.validate(file, config);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    const extension = extractExtensionFrom(file.name);\n    const id = uuid();\n    const filename = `${id}.${extension}`;\n\n    const { uploadCredentials, downloadUrl, privateUrl } =\n      await this.fetchFileCredentials(filename, config);\n    await this.uploadToServer(file, uploadCredentials);\n\n    return {\n      id: id,\n      name: file.name,\n      sizeInBytes: file.size,\n      publicUrl:\n        uploadCredentials && uploadCredentials.publicUrl\n          ? uploadCredentials.publicUrl\n          : null,\n      privateUrl,\n      downloadUrl,\n      new: true,\n    };\n  }\n  static async uploadFromRequest(request, config, onSuccess, onError) {\n    try {\n      this.validate(request.file, config);\n    } catch (error) {\n      request.onError(error);\n      onError(error);\n      return;\n    }\n\n    const extension = extractExtensionFrom(request.file.name);\n    const id = uuid();\n    const filename = `${id}.${extension}`;\n\n    this.fetchFileCredentials(filename, config)\n      .then(({ uploadCredentials, downloadUrl, privateUrl }) => {\n        return this.uploadToServer(request.file, uploadCredentials).then(() => {\n          request.onSuccess();\n          onSuccess({\n            id: id,\n            name: request.file.name,\n            sizeInBytes: request.file.size,\n            publicUrl:\n              uploadCredentials && uploadCredentials.publicUrl\n                ? uploadCredentials.publicUrl\n                : null,\n            privateUrl,\n            downloadUrl,\n            new: true,\n          });\n        });\n      })\n      .catch((error) => {\n        request.onError(error);\n        onError(error);\n      });\n  }\n  static async fetchFileCredentials(filename, config) {\n    const tenantId = AuthCurrentTenant.get();\n\n    const { data } = await authAxios.get(\n      `/tenant/${tenantId}/file/credentials`,\n      {\n        params: {\n          filename: filename,\n          storageId: config.storage.id,\n        },\n      }\n    );\n\n    return data;\n  }\n\n  static async uploadToServer(file, uploadCredentials) {\n    try {\n      const url = uploadCredentials.url;\n      const formData = new FormData();\n\n      for (const [key, value] of Object.entries(\n        uploadCredentials.fields || {}\n      )) {\n        formData.append(key, value as string);\n      }\n      formData.append(\"file\", file);\n\n      return axios.post(url, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n}\n\nfunction extractExtensionFrom(filename) {\n  if (!filename) {\n    return null;\n  }\n\n  const regex = /(?:\\.([^.]+))?$/;\n  const exec = regex.exec(filename);\n\n  if (!exec) {\n    return null;\n  }\n\n  return exec[1];\n}\n","import * as yup from \"yup\";\nimport { i18n } from \"src/i18n\";\nimport moment from \"moment\";\n\nconst yupFormSchemas = {\n  generic(label) {\n    return yup.mixed().label(label);\n  },\n  string(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .string()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .nullable(true)\n      .trim()\n      .label(label);\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    if (config.matches) {\n      yupChain = yupChain.matches(config.matches);\n    }\n\n    return yupChain;\n  },\n  boolean(label, config?) {\n    return yup.bool().default(false).label(label);\n  },\n  relationToOne(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .mixed()\n      .nullable(true)\n      .label(label)\n      .transform((value, originalValue) => {\n        if (!originalValue) {\n          return null;\n        }\n\n        return originalValue.id;\n      });\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    return yupChain;\n  },\n  stringArray(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .array()\n      .compact()\n      .ensure()\n      .of(\n        yup\n          .string()\n          .transform((cv, ov) => {\n            return ov === \"\" ? null : cv;\n          })\n          .trim()\n      )\n      .label(label);\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  relationToMany(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .array()\n      .nullable(true)\n      .label(label)\n      .transform((value, originalValue) => {\n        if (!originalValue || !originalValue.length) {\n          return [];\n        }\n\n        return originalValue.map((item) => item.id);\n      });\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  integer(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .number()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .integer()\n      .nullable(true)\n      .label(label);\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  images(label, config?) {\n    config = config || {};\n\n    let yupChain = yup.array().nullable(true).label(label);\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  files(label, config?) {\n    config = config || {};\n\n    let yupChain = yup.array().compact().ensure().nullable(true).label(label);\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  enumerator(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .string()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .label(label)\n      .nullable(true)\n      .oneOf([null, ...(config.options || [])]);\n\n    if (config.required) {\n      yupChain = yupChain.required(i18n(\"validation.string.selected\"));\n    }\n\n    return yupChain;\n  },\n  email(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .string()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .nullable(true)\n      .trim()\n      .label(label)\n      .email();\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    if (config.matches) {\n      yupChain = yupChain.matches(config.matches);\n    }\n\n    return yupChain;\n  },\n  decimal(label, config?) {\n    config = config || {};\n    let yupChain = yup\n      .number()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .nullable(true)\n      .label(label);\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  datetime(label, config?) {\n    config = config || {};\n    let yupChain = yup\n      .mixed()\n      .nullable(true)\n      .label(label)\n      .transform((value, originalValue) =>\n        value ? moment(originalValue, \"YYYY-MM-DD HH:mm\").toISOString() : null\n      );\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    return yupChain;\n  },\n  date(label, config?) {\n    config = config || {};\n    let yupChain = yup\n      .mixed()\n      .nullable(true)\n      .label(label)\n      .test(\"is-date\", i18n(\"validation.mixed.default\"), (value) => {\n        if (!value) {\n          return true;\n        }\n\n        return moment(value, \"YYYY-MM-DD\").isValid();\n      })\n      .transform((value) =>\n        value ? moment(value).format(\"YYYY-MM-DD\") : null\n      );\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    return yupChain;\n  },\n};\n\nexport default yupFormSchemas;\n","import React from \"react\";\nimport Spinner from \"./Spinner\";\n\nconst ButtonIcon = (props) => {\n  return props.loading ? <Spinner /> : null;\n};\n\nexport default ButtonIcon;\n","import React from \"react\";\nimport { i18n } from \"src/i18n\";\n\nfunction Retour() {\n  const Currentlangue = localStorage.getItem(\"language\");\n\n  const checkLanguage = () => {\n    if (Currentlangue === \"fr\" || Currentlangue === \"en\") {\n      return (\n        <>\n          <i className='fa-solid fa-arrow-left'></i> {i18n(\"common.retour\")}{\" \"}\n        </>\n      );\n    }\n    if (Currentlangue === \"ar\") {\n      return (\n        <>\n          {i18n(\"common.retour\")} <i className='fa-solid fa-arrow-left'></i>\n        </>\n      );\n    }\n  };\n\n  return <div className='retour'>{checkLanguage()}</div>;\n}\n\nexport default Retour;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const SpinnerWrapper = styled.div`\n  margin: 0 12px;\n  .lds-ring {\n    display: inline-block;\n    position: relative;\n    width: 15px;\n    height: 15px;\n  }\n  .lds-ring div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    border: 2px solid #fff;\n    border-radius: 50%;\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: var(--violet) transparent transparent transparent;\n  }\n  .lds-ring div:nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  .lds-ring div:nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  .lds-ring div:nth-child(3) {\n    animation-delay: -0.15s;\n  }\n  @keyframes lds-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nfunction Spinner(props) {\n  const { styles } = props;\n\n  return (\n    <SpinnerWrapper>\n      <div style={{ height: styles }}>\n        <div className='lds-ring'>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </SpinnerWrapper>\n  );\n}\n\nexport default Spinner;\n","export default class FormErrors {\n  static errorMessage(\n    name,\n    errors,\n    touched,\n    isSubmitted,\n    externalErrorMessage = null\n  ) {\n    if (externalErrorMessage) {\n      return externalErrorMessage;\n    }\n\n    if (!isSubmitted && !touched[name]) {\n      return null;\n    }\n\n    const fieldErrors = errors[name];\n\n    return (\n      fieldErrors?.[0]?.message || fieldErrors?.message || fieldErrors || null\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useFormContext } from \"react-hook-form\";\nimport FormErrors from \"src/view/shared/form/formErrors\";\nimport { Form } from \"antd\";\n\nexport function InputFormItem(props) {\n  const {\n    label,\n    description,\n    name,\n    hint,\n    type,\n    placeholder,\n    autoFocus,\n    autoComplete,\n    required,\n    externalErrorMessage,\n    disabled,\n    endAdornment,\n  } = props;\n\n  const {\n    register,\n    errors,\n    formState: { touched, isSubmitted },\n  } = useFormContext();\n\n  const errorMessage = FormErrors.errorMessage(\n    name,\n    errors,\n    touched,\n    isSubmitted,\n    externalErrorMessage\n  );\n\n  return (\n    <div className=\"form__group\">\n      <Form.Item\n        label={label}\n        required={required}\n        validateStatus={errorMessage ? \"error\" : \"success\"}\n        help={errorMessage || hint}\n      >\n        <input\n          id={name}\n          name={name}\n          type={type}\n          ref={register}\n          onChange={(event) => {\n            props.onChange && props.onChange(event.target.value);\n          }}\n          onBlur={(event) => {\n            props.onBlur && props.onBlur(event);\n          }}\n          autoFocus={autoFocus || undefined}\n          autoComplete={autoComplete || undefined}\n          disabled={disabled}\n          className={`form-control ${errorMessage ? \"is-invalid\" : \"\"}`}\n        />\n      </Form.Item>\n      {endAdornment && (\n        <div className=\"input-group-append\">\n          <span className=\"input-group-text\">{endAdornment}</span>\n        </div>\n      )}\n      {/* <div className=\"invalid-feedback\">{errorMessage}</div>\n      {Boolean(hint) && <small className=\"form-text text-muted\">{hint}</small>} */}\n    </div>\n  );\n}\n\nInputFormItem.defaultProps = {\n  type: \"text\",\n  required: false,\n};\n\nInputFormItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  required: PropTypes.bool,\n  type: PropTypes.string,\n  label: PropTypes.string,\n  description: PropTypes.string,\n  hint: PropTypes.string,\n  autoFocus: PropTypes.bool,\n  disabled: PropTypes.bool,\n  prefix: PropTypes.string,\n  placeholder: PropTypes.string,\n  autoComplete: PropTypes.string,\n  externalErrorMessage: PropTypes.string,\n  endAdornment: PropTypes.any,\n  onChange: PropTypes.any,\n};\n\nexport default InputFormItem;\n","import styled from \"styled-components\";\nconst FormWrapper = styled.div`\n  .Login__container {\n    padding-top: 44px;\n    position: relative;\n  }\n\n  button {\n    color: var(--dark--red);\n    border: 0;\n    // padding: 0.8rem 1.2rem;\n    cursor: pointer;\n  }\n  .container__form {\n    display: flex;\n    row-gap: 25px;\n    justify-content: center;\n    align-items: flex-end;\n    width: calc(100vw - 10%);\n    max-width: 501px;\n    flex-direction: column;\n  }\n  input[type=\"text\"],\n  input[type=\"password\"] {\n    width: 100%;\n    border: 1px solid #bdbdbd;\n    height: 50px;\n    padding: 14px 0 14px 12px;\n    color: var(--violet);\n    margin-top: 7px;\n    font-family: \"Proxima Nova\";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 17px;\n    line-height: 21px;\n  }\n  .item__button {\n    display: flex;\n    column-gap: 45px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .form__button {\n    width: 177px;\n    background: var(--red);\n    color: var(--white);\n    font-family: \"Bebas Neue Pro\";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 23px;\n    padding: 14px 0;\n    display: flex;\n    justify-content: center;\n    place-items: baseline;\n    cursor: pointer;\n    text-transform: Uppercase;\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  }\n  .form-group {\n    text-align: start;\n    width: 100% !important;\n  }\n  .form__button:hover {\n    color: #fff;\n    background: #ff5444;\n    border-color: ##ff5444;\n    text-shadow: 0 -1px 0 rgb(0 0 0 / 12%);\n    box-shadow: 0 2px 0 rgb(0 0 0 / 5%);\n  }\n  label {\n    color: var(--violet);\n    font-family: \"Proxima Nova\";\n    font-size: 14px;\n    line-height: 17px;\n    font-weight: 400;\n    padding-bottom: 7px;\n  }\n  .form__oublier {\n    position: relative;\n    padding-bottom: 31px;\n  }\n  .oublier {\n    cursor: pointer;\n    position: absolute;\n    right: 0;\n    font-family: \"Proxima Nova\";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 17px;\n  }\n  .Login__container {\n    padding-top: 32px;\n    position: relative;\n    width: 100% !important;\n  }\n  .form__link {\n    display: flex;\n    justify-content: center;\n    column-gap: 12px;\n  }\n  .link__account {\n    font-size: 20px;\n    line-height: 23px;\n    text-align: center;\n    font-family: \"Bebas Neue Pro\";\n  }\n  .link__create {\n    font-family: \"Bebas Neue Pro\";\n    color: var(--red);\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 23px;\n    text-decoration-line: underline;\n    text-transform: uppercase;\n  }\n  .invalid-feedback {\n    color: var(--red);\n  }\n\n  @media (max-wdith: 800px) {\n  }\n\n  .cancel__button {\n    padding: 0;\n    background-color: transparent;\n    position: relative;\n    right: 0;\n    font-family: \"Bebas Neue Pro\";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 20px;\n    line-height: 23px;\n    color: var(--violet);\n  }\n  .form__select {\n    display: flex;\n    flex-direction: column;\n  }\n  select,\n  textarea {\n    font-family: \"Proxima Nova\";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 17px;\n    line-height: 21px;\n    padding: 15px;\n  }\n  select {\n    height: 50px;\n  }\n  textarea {\n    height: 150px;\n    width: 100%;\n  }\n\n  .form__importance {\n    display: flex;\n    flex-direction: column;\n  }\n  .importance__status {\n    display: flex;\n    with: 100%;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .importance__status > div {\n    display: grid;\n    place-items: center;\n    height: 50px;\n    border: 1px solid #bdbdbd;\n    width: 100%;\n    cursor: pointer;\n    color: var(--gray5);\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 17px;\n  }\n  .importance__status > .status__active {\n    border: 2px solid #2b2840;\n    box-shadow: 0px 7px 14px rgba(0, 0, 0, 0.09);\n    color: var(--violet);\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n  }\n  .form__radio {\n    padding-top: 7px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    column-gap: 21px;\n  }\n  .form__radio > div {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    column-gap: 21px;\n  }\n  .form__radio > div > div {\n    height: 50px;\n    border: 1px solid #bdbdbd;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    padding-left: 11px;\n    column-gap: 74px;\n    cursor: pointer;\n  }\n\n  .form__radio > div > .radio__active {\n    border: 2px solid #2b2840;\n  }\n\n  input[type=\"radio\"] {\n    width: 18px;\n    height: 18px;\n    background-clip: content-box;\n    border: 2px solid #bbbbbb;\n    background-color: #e7e6e7;\n    accent-color: var(--red);\n  }\n\n  input[type=\"radio\"]:checked {\n    background-color: #93e026;\n  }\n  .form_textarea {\n    width: 100%;\n  }\n`;\nexport default FormWrapper;\n"],"names":["FileUploader","file","config","image","type","startsWith","Error","i18n","storage","maxSizeInBytes","size","filesize","extension","extractExtensionFrom","name","formats","includes","join","this","validate","Promise","reject","id","uuid","filename","fetchFileCredentials","uploadCredentials","downloadUrl","privateUrl","uploadToServer","sizeInBytes","publicUrl","new","request","onSuccess","onError","then","catch","error","tenantId","AuthCurrentTenant","authAxios","params","storageId","data","url","formData","FormData","Object","entries","fields","key","value","append","axios","headers","console","exec","yupFormSchemas","generic","label","yup","string","yupChain","transform","cv","ov","nullable","trim","required","min","max","matches","boolean","default","relationToOne","originalValue","stringArray","compact","ensure","of","relationToMany","length","map","item","integer","images","files","enumerator","oneOf","options","email","decimal","datetime","moment","toISOString","date","test","isValid","format","props","loading","Currentlangue","localStorage","getItem","className","SpinnerWrapper","styled","styles","style","height","FormErrors","errors","touched","isSubmitted","externalErrorMessage","fieldErrors","message","InputFormItem","description","hint","autoFocus","placeholder","autoComplete","disabled","endAdornment","useFormContext","register","formState","errorMessage","validateStatus","help","ref","onChange","event","target","onBlur","undefined","defaultProps","FormWrapper"],"sourceRoot":""}