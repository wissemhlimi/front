{"version":3,"file":"static/js/3895.2609190d.chunk.js","mappings":"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","sources":["modules/shared/yup/yupFormSchemas.tsx","view/auth/PasswordChangeFormPage.tsx","view/shared/ButtonIcon.tsx","view/shared/Retour.tsx","view/shared/Spinner.tsx","view/shared/form/formErrors.tsx","view/shared/form/items/InputFormItem.tsx","view/shared/styles/FormWrapper.tsx"],"sourcesContent":["import * as yup from \"yup\";\nimport { i18n } from \"src/i18n\";\nimport moment from \"moment\";\n\nconst yupFormSchemas = {\n  generic(label) {\n    return yup.mixed().label(label);\n  },\n  string(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .string()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .nullable(true)\n      .trim()\n      .label(label);\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    if (config.matches) {\n      yupChain = yupChain.matches(config.matches);\n    }\n\n    return yupChain;\n  },\n  boolean(label, config?) {\n    return yup.bool().default(false).label(label);\n  },\n  relationToOne(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .mixed()\n      .nullable(true)\n      .label(label)\n      .transform((value, originalValue) => {\n        if (!originalValue) {\n          return null;\n        }\n\n        return originalValue.id;\n      });\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    return yupChain;\n  },\n  stringArray(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .array()\n      .compact()\n      .ensure()\n      .of(\n        yup\n          .string()\n          .transform((cv, ov) => {\n            return ov === \"\" ? null : cv;\n          })\n          .trim()\n      )\n      .label(label);\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  relationToMany(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .array()\n      .nullable(true)\n      .label(label)\n      .transform((value, originalValue) => {\n        if (!originalValue || !originalValue.length) {\n          return [];\n        }\n\n        return originalValue.map((item) => item.id);\n      });\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  integer(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .number()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .integer()\n      .nullable(true)\n      .label(label);\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  images(label, config?) {\n    config = config || {};\n\n    let yupChain = yup.array().nullable(true).label(label);\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  files(label, config?) {\n    config = config || {};\n\n    let yupChain = yup.array().compact().ensure().nullable(true).label(label);\n\n    if (config.required || config.min) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    } else if (config.required) {\n      yupChain = yupChain.min(1);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  enumerator(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .string()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .label(label)\n      .nullable(true)\n      .oneOf([null, ...(config.options || [])]);\n\n    if (config.required) {\n      yupChain = yupChain.required(i18n(\"validation.string.selected\"));\n    }\n\n    return yupChain;\n  },\n  email(label, config?) {\n    config = config || {};\n\n    let yupChain = yup\n      .string()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .nullable(true)\n      .trim()\n      .label(label)\n      .email();\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    if (config.matches) {\n      yupChain = yupChain.matches(config.matches);\n    }\n\n    return yupChain;\n  },\n  decimal(label, config?) {\n    config = config || {};\n    let yupChain = yup\n      .number()\n      .transform((cv, ov) => {\n        return ov === \"\" ? null : cv;\n      })\n      .nullable(true)\n      .label(label);\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    if (config.min || config.min === 0) {\n      yupChain = yupChain.min(config.min);\n    }\n\n    if (config.max) {\n      yupChain = yupChain.max(config.max);\n    }\n\n    return yupChain;\n  },\n  datetime(label, config?) {\n    config = config || {};\n    let yupChain = yup\n      .mixed()\n      .nullable(true)\n      .label(label)\n      .transform((value, originalValue) =>\n        value ? moment(originalValue, \"YYYY-MM-DD HH:mm\").toISOString() : null\n      );\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    return yupChain;\n  },\n  date(label, config?) {\n    config = config || {};\n    let yupChain = yup\n      .mixed()\n      .nullable(true)\n      .label(label)\n      .test(\"is-date\", i18n(\"validation.mixed.default\"), (value) => {\n        if (!value) {\n          return true;\n        }\n\n        return moment(value, \"YYYY-MM-DD\").isValid();\n      })\n      .transform((value) =>\n        value ? moment(value).format(\"YYYY-MM-DD\") : null\n      );\n\n    if (config.required) {\n      yupChain = yupChain.required();\n    }\n\n    return yupChain;\n  },\n};\n\nexport default yupFormSchemas;\n","import React, { useState } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport Storage from \"src/security/storage\";\nimport { Link } from \"react-router-dom\";\nimport actions from \"src/modules/auth/authActions\";\nimport selectors from \"src/modules/auth/authSelectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ButtonIcon from \"../shared/ButtonIcon\";\nimport InputFormItem from \"../shared/form/items/InputFormItem\";\nimport * as yup from \"yup\";\nimport yupFormSchemas from \"src/modules/shared/yup/yupFormSchemas\";\nimport FormWrapper from \"../shared/styles/FormWrapper\";\nimport { i18n } from \"src/i18n\";\nimport Retour from \"../shared/Retour\";\n\nconst schema = yup.object().shape({\n  oldPassword: yupFormSchemas.string(i18n(\"user.fields.oldPassword\"), {\n    required: true,\n  }),\n  newPassword: yupFormSchemas.string(i18n(\"user.fields.newPassword\"), {\n    required: true,\n  }),\n  newPasswordConfirmation: yupFormSchemas\n    .string(i18n(\"user.fields.newPasswordConfirmation\"), {\n      required: true,\n    })\n    .oneOf(\n      [yup.ref(\"newPassword\"), null],\n      i18n(\"auth.passwordChange.mustMatch\")\n    ),\n});\n\nfunction PasswordChangeFormPage() {\n  const dispatch = useDispatch();\n\n  const [initialValues] = useState(() => ({\n    oldPassword: \"\",\n    newPassword: \"\",\n    newPasswordConfirmation: \"\",\n  }));\n\n  const form = useForm({\n    resolver: yupResolver(schema),\n    mode: \"all\",\n    defaultValues: initialValues,\n  });\n\n  const saveLoading = useSelector(selectors.selectLoadingPasswordChange);\n\n  const onSubmit = (values) => {\n    dispatch(actions.doChangePassword(values.oldPassword, values.newPassword));\n  };\n\n  const onReset = () => {\n    Object.keys(initialValues).forEach((key: any) => {\n      form.setValue(key, initialValues[key]);\n    });\n  };\n\n  return (\n    <div className=\"app__updateprofile\">\n      <Link to=\"/profile\">\n        <Retour />\n      </Link>\n\n      <FormWrapper>\n        <FormProvider {...form}>\n          <div className=\"modifyprofile\">\n            <div className=\"archieve__header\">\n              <h2 className=\"h2\">{i18n(\"auth.changePassword\")}</h2>\n              <div className=\"communiquer__bar\"></div>\n            </div>\n            <div className=\"contenu__description\">\n              {i18n(\"auth.changePasswordMessage\")}\n            </div>\n            <div className=\"profile__user\">\n              <form onSubmit={form.handleSubmit(onSubmit)}>\n                <div className=\"Login__container\">\n                  <div className=\"container__form\">\n                    <InputFormItem\n                      type=\"password\"\n                      name=\"oldPassword\"\n                      label={i18n(\"user.fields.oldPassword\")}\n                      autoComplete=\"old-password\"\n                      autoFocus\n                    />\n\n                    <InputFormItem\n                      type=\"password\"\n                      name=\"newPassword\"\n                      label={i18n(\"user.fields.newPassword\")}\n                      autoComplete=\"new-password\"\n                    />\n                    <InputFormItem\n                      type=\"password\"\n                      name=\"newPasswordConfirmation\"\n                      label={i18n(\"user.fields.newPasswordConfirmation\")}\n                      autoComplete=\"new-password\"\n                    />\n\n                    <div className=\"item__button\">\n                      <button\n                        className=\"cancel__button\"\n                        onClick={onReset}\n                        type=\"button\"\n                        disabled={saveLoading}\n                      >\n                        {i18n(\"common.reset\")}\n                      </button>\n                      <button\n                        className=\"form__button\"\n                        onClick={form.handleSubmit(onSubmit)}\n                        disabled={saveLoading}\n                      >\n                        <ButtonIcon loading={saveLoading} />\n                        {i18n(\"common.save\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </FormProvider>\n      </FormWrapper>\n    </div>\n  );\n}\n\nexport default PasswordChangeFormPage;\n","import React from \"react\";\nimport Spinner from \"./Spinner\";\n\nconst ButtonIcon = (props) => {\n  return props.loading ? <Spinner /> : null;\n};\n\nexport default ButtonIcon;\n","import React from \"react\";\nimport { i18n } from \"src/i18n\";\n\nfunction Retour() {\n  const Currentlangue = localStorage.getItem(\"language\");\n\n  const checkLanguage = () => {\n    if (Currentlangue === \"fr\" || Currentlangue === \"en\") {\n      return (\n        <>\n          <i className='fa-solid fa-arrow-left'></i> {i18n(\"common.retour\")}{\" \"}\n        </>\n      );\n    }\n    if (Currentlangue === \"ar\") {\n      return (\n        <>\n          {i18n(\"common.retour\")} <i className='fa-solid fa-arrow-left'></i>\n        </>\n      );\n    }\n  };\n\n  return <div className='retour'>{checkLanguage()}</div>;\n}\n\nexport default Retour;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const SpinnerWrapper = styled.div`\n  margin: 0 12px;\n  .lds-ring {\n    display: inline-block;\n    position: relative;\n    width: 15px;\n    height: 15px;\n  }\n  .lds-ring div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    border: 2px solid #fff;\n    border-radius: 50%;\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: var(--violet) transparent transparent transparent;\n  }\n  .lds-ring div:nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  .lds-ring div:nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  .lds-ring div:nth-child(3) {\n    animation-delay: -0.15s;\n  }\n  @keyframes lds-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nfunction Spinner(props) {\n  const { styles } = props;\n\n  return (\n    <SpinnerWrapper>\n      <div style={{ height: styles }}>\n        <div className='lds-ring'>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </SpinnerWrapper>\n  );\n}\n\nexport default Spinner;\n","export default class FormErrors {\n  static errorMessage(\n    name,\n    errors,\n    touched,\n    isSubmitted,\n    externalErrorMessage = null\n  ) {\n    if (externalErrorMessage) {\n      return externalErrorMessage;\n    }\n\n    if (!isSubmitted && !touched[name]) {\n      return null;\n    }\n\n    const fieldErrors = errors[name];\n\n    return (\n      fieldErrors?.[0]?.message || fieldErrors?.message || fieldErrors || null\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useFormContext } from \"react-hook-form\";\nimport FormErrors from \"src/view/shared/form/formErrors\";\n\nexport function InputFormItem(props) {\n  const {\n    label,\n    description,\n    name,\n    hint,\n    type,\n    placeholder,\n    autoFocus,\n    autoComplete,\n    required,\n    externalErrorMessage,\n    disabled,\n    endAdornment,\n  } = props;\n\n  const {\n    register,\n    errors,\n    formState: { touched, isSubmitted },\n  } = useFormContext();\n\n  const errorMessage = FormErrors.errorMessage(\n    name,\n    errors,\n    touched,\n    isSubmitted,\n    externalErrorMessage\n  );\n\n  return (\n    <div className='form__group'>\n      <div className={endAdornment ? \"input-group\" : \"\"}>\n        {Boolean(label) && (\n          <label className={`${required ? \"required\" : null}`} htmlFor={name}>\n            {label}\n          </label>\n        )}\n        {description}\n        <input\n          id={name}\n          name={name}\n          type={type}\n          ref={register}\n          onChange={(event) => {\n            props.onChange && props.onChange(event.target.value);\n          }}\n          onBlur={(event) => {\n            props.onBlur && props.onBlur(event);\n          }}\n          autoFocus={autoFocus || undefined}\n          autoComplete={autoComplete || undefined}\n          disabled={disabled}\n          className={`form-control ${errorMessage ? \"is-invalid\" : \"\"}`}\n        />\n        {endAdornment && (\n          <div className='input-group-append'>\n            <span className='input-group-text'>{endAdornment}</span>\n          </div>\n        )}\n      </div>\n      <div className='invalid-feedback'>{errorMessage}</div>\n      {Boolean(hint) && <small className='form-text text-muted'>{hint}</small>}\n    </div>\n  );\n}\n\nInputFormItem.defaultProps = {\n  type: \"text\",\n  required: false,\n};\n\nInputFormItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  required: PropTypes.bool,\n  type: PropTypes.string,\n  label: PropTypes.string,\n  description: PropTypes.string,\n  hint: PropTypes.string,\n  autoFocus: PropTypes.bool,\n  disabled: PropTypes.bool,\n  prefix: PropTypes.string,\n  placeholder: PropTypes.string,\n  autoComplete: PropTypes.string,\n  externalErrorMessage: PropTypes.string,\n  endAdornment: PropTypes.any,\n  onChange: PropTypes.any,\n};\n\nexport default InputFormItem;\n","import styled from \"styled-components\";\nconst FormWrapper = styled.div`\n  .Login__container {\n    padding-top: 44px;\n    position: relative;\n  }\n\n  button {\n    color: var(--dark--red);\n    border: 0;\n    // padding: 0.8rem 1.2rem;\n    cursor: pointer;\n  }\n  .container__form {\n    display: flex;\n    row-gap: 25px;\n    justify-content: center;\n    align-items: flex-end;\n    width: calc(100vw - 10%);\n    max-width: 501px;\n    flex-direction: column;\n  }\n  input[type=\"text\"],\n  input[type=\"password\"] {\n    width: 100%;\n    border: 1px solid #bdbdbd;\n    height: 50px;\n    padding: 14px 0 14px 12px;\n    color: var(--violet);\n    margin-top: 7px;\n    font-family: \"Proxima Nova\";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 17px;\n    line-height: 21px;\n  }\n  .item__button {\n    display: flex;\n    column-gap: 45px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .form__button {\n    width: 177px;\n    background: var(--red);\n    color: var(--white);\n    font-family: \"Bebas Neue Pro\";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 23px;\n    padding: 14px 0;\n    display: flex;\n    justify-content: center;\n    place-items: baseline;\n    cursor: pointer;\n    text-transform: Uppercase;\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  }\n  .form-group {\n    text-align: start;\n    width: 100% !important;\n  }\n  .form__button:hover {\n    color: #fff;\n    background: #ff5444;\n    border-color: ##ff5444;\n    text-shadow: 0 -1px 0 rgb(0 0 0 / 12%);\n    box-shadow: 0 2px 0 rgb(0 0 0 / 5%);\n  }\n  label {\n    color: var(--violet);\n    font-family: \"Proxima Nova\";\n    font-size: 14px;\n    line-height: 17px;\n    font-weight: 400;\n    padding-bottom: 7px;\n  }\n  .form__oublier {\n    position: relative;\n    padding-bottom: 31px;\n  }\n  .oublier {\n    cursor: pointer;\n    position: absolute;\n    right: 0;\n    font-family: \"Proxima Nova\";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 17px;\n  }\n  .Login__container {\n    padding-top: 32px;\n    position: relative;\n    width: 100% !important;\n  }\n  .form__link {\n    display: flex;\n    justify-content: center;\n    column-gap: 12px;\n  }\n  .link__account {\n    font-size: 20px;\n    line-height: 23px;\n    text-align: center;\n    font-family: \"Bebas Neue Pro\";\n  }\n  .link__create {\n    font-family: \"Bebas Neue Pro\";\n    color: var(--red);\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 23px;\n    text-decoration-line: underline;\n    text-transform: uppercase;\n  }\n  .invalid-feedback {\n    color: var(--red);\n  }\n\n  @media (max-wdith: 800px) {\n  }\n\n  .cancel__button {\n    padding: 0;\n    background-color: transparent;\n    position: relative;\n    right: 0;\n    font-family: \"Bebas Neue Pro\";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 20px;\n    line-height: 23px;\n    color: var(--violet);\n  }\n  .form__select {\n    display: flex;\n    flex-direction: column;\n  }\n  select,\n  textarea {\n    font-family: \"Proxima Nova\";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 17px;\n    line-height: 21px;\n    padding: 15px;\n  }\n  select {\n    height: 50px;\n  }\n  textarea {\n    height: 150px;\n    width: 100%;\n  }\n\n  .form__importance {\n    display: flex;\n    flex-direction: column;\n  }\n  .importance__status {\n    display: flex;\n    with: 100%;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .importance__status > div {\n    display: grid;\n    place-items: center;\n    height: 50px;\n    border: 1px solid #bdbdbd;\n    width: 100%;\n    cursor: pointer;\n    color: var(--gray5);\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 17px;\n  }\n  .importance__status > .status__active {\n    border: 2px solid #2b2840;\n    box-shadow: 0px 7px 14px rgba(0, 0, 0, 0.09);\n    color: var(--violet);\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n  }\n  .form__radio {\n    padding-top: 7px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    column-gap: 21px;\n  }\n  .form__radio > div {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    column-gap: 21px;\n  }\n  .form__radio > div > div {\n    height: 50px;\n    border: 1px solid #bdbdbd;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    padding-left: 11px;\n    column-gap: 74px;\n    cursor: pointer;\n  }\n\n  .form__radio > div > .radio__active {\n    border: 2px solid #2b2840;\n  }\n\n  input[type=\"radio\"] {\n    width: 18px;\n    height: 18px;\n    background-clip: content-box;\n    border: 2px solid #bbbbbb;\n    background-color: #e7e6e7;\n    accent-color: var(--red);\n  }\n\n  input[type=\"radio\"]:checked {\n    background-color: #93e026;\n  }\n  .form_textarea {\n    width: 100%;\n  }\n`;\nexport default FormWrapper;\n"],"names":["yupFormSchemas","generic","label","yup","string","config","yupChain","transform","cv","ov","nullable","trim","required","min","max","matches","boolean","default","relationToOne","value","originalValue","id","stringArray","compact","ensure","of","relationToMany","length","map","item","integer","images","files","enumerator","oneOf","options","i18n","email","decimal","datetime","moment","toISOString","date","test","isValid","format","schema","shape","oldPassword","newPassword","newPasswordConfirmation","dispatch","useDispatch","useState","initialValues","form","useForm","resolver","yupResolver","mode","defaultValues","saveLoading","useSelector","selectors","onSubmit","values","actions","className","to","handleSubmit","type","name","autoComplete","autoFocus","onClick","Object","keys","forEach","key","setValue","disabled","loading","props","Currentlangue","localStorage","getItem","SpinnerWrapper","styled","styles","style","height","FormErrors","errors","touched","isSubmitted","externalErrorMessage","fieldErrors","message","InputFormItem","description","hint","placeholder","endAdornment","useFormContext","register","formState","errorMessage","Boolean","htmlFor","ref","onChange","event","target","onBlur","undefined","defaultProps","FormWrapper"],"sourceRoot":""}